{"version":3,"sources":["webpack://lrc-maker/./build.es6/languages|eager|/^\\.\\/.*\\.js$/|groupOptions: {}|namespace object","webpack://lrc-maker/./src/hooks/useLang.ts","webpack://lrc-maker/./src/components/app.context.tsx","webpack://lrc-maker/./src/components/editor.tsx","webpack://lrc-maker/./src/components/gist.tsx","webpack://lrc-maker/./src/components/preferences.tsx","webpack://lrc-maker/./src/utils/sw.unregister.ts","webpack://lrc-maker/./src/components/svg.img.tsx","webpack://lrc-maker/./src/components/svg.tsx","webpack://lrc-maker/./src/components/asidepanel.tsx","webpack://lrc-maker/./src/components/curser.tsx","webpack://lrc-maker/./src/components/synchronizer.tsx","webpack://lrc-maker/./src/components/toast.tsx","webpack://lrc-maker/./src/hooks/useLrc.ts","webpack://lrc-maker/./src/hooks/usePref.ts","webpack://lrc-maker/./src/languages/en-US.ts","webpack://lrc-maker/./src/languages/ja.ts","webpack://lrc-maker/./src/languages/ko-KR.ts","webpack://lrc-maker/./src/languages/zh-CN.ts","webpack://lrc-maker/./src/languages/zh-HK.ts","webpack://lrc-maker/./src/languages/zh-TW.ts","webpack://lrc-maker/./node_modules/@lrc-maker/lrc-parser/src/lrc-parser.ts","webpack://lrc-maker/./src/polyfill/smooth-scroll.ts","webpack://lrc-maker/./src/utils/audiomodule.ts","webpack://lrc-maker/./src/utils/gistapi.ts","webpack://lrc-maker/./src/utils/is-keyboard-element.ts","webpack://lrc-maker/./src/utils/lrc-file-name.ts","webpack://lrc-maker/./src/utils/pubsub.ts","webpack://lrc-maker/./node_modules/core-js/es/array/includes.js","webpack://lrc-maker/./node_modules/core-js/es/object/entries.js","webpack://lrc-maker/./node_modules/core-js/es/object/values.js","webpack://lrc-maker/./node_modules/core-js/es/string/pad-end.js","webpack://lrc-maker/./node_modules/core-js/es/string/pad-start.js","webpack://lrc-maker/./node_modules/core-js/internals/a-function.js","webpack://lrc-maker/./node_modules/core-js/internals/add-to-unscopables.js","webpack://lrc-maker/./node_modules/core-js/internals/an-object.js","webpack://lrc-maker/./node_modules/core-js/internals/array-includes.js","webpack://lrc-maker/./node_modules/core-js/internals/array-method-uses-to-length.js","webpack://lrc-maker/./node_modules/core-js/internals/classof-raw.js","webpack://lrc-maker/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://lrc-maker/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://lrc-maker/./node_modules/core-js/internals/create-property-descriptor.js","webpack://lrc-maker/./node_modules/core-js/internals/descriptors.js","webpack://lrc-maker/./node_modules/core-js/internals/document-create-element.js","webpack://lrc-maker/./node_modules/core-js/internals/engine-user-agent.js","webpack://lrc-maker/./node_modules/core-js/internals/entry-unbind.js","webpack://lrc-maker/./node_modules/core-js/internals/enum-bug-keys.js","webpack://lrc-maker/./node_modules/core-js/internals/export.js","webpack://lrc-maker/./node_modules/core-js/internals/fails.js","webpack://lrc-maker/./node_modules/core-js/internals/function-bind-context.js","webpack://lrc-maker/./node_modules/core-js/internals/get-built-in.js","webpack://lrc-maker/./node_modules/core-js/internals/global.js","webpack://lrc-maker/./node_modules/core-js/internals/has.js","webpack://lrc-maker/./node_modules/core-js/internals/hidden-keys.js","webpack://lrc-maker/./node_modules/core-js/internals/html.js","webpack://lrc-maker/./node_modules/core-js/internals/ie8-dom-define.js","webpack://lrc-maker/./node_modules/core-js/internals/indexed-object.js","webpack://lrc-maker/./node_modules/core-js/internals/inspect-source.js","webpack://lrc-maker/./node_modules/core-js/internals/internal-state.js","webpack://lrc-maker/./node_modules/core-js/internals/is-forced.js","webpack://lrc-maker/./node_modules/core-js/internals/is-object.js","webpack://lrc-maker/./node_modules/core-js/internals/is-pure.js","webpack://lrc-maker/./node_modules/core-js/internals/native-symbol.js","webpack://lrc-maker/./node_modules/core-js/internals/native-weak-map.js","webpack://lrc-maker/./node_modules/core-js/internals/object-create.js","webpack://lrc-maker/./node_modules/core-js/internals/object-define-properties.js","webpack://lrc-maker/./node_modules/core-js/internals/object-define-property.js","webpack://lrc-maker/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://lrc-maker/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://lrc-maker/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://lrc-maker/./node_modules/core-js/internals/object-keys-internal.js","webpack://lrc-maker/./node_modules/core-js/internals/object-keys.js","webpack://lrc-maker/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://lrc-maker/./node_modules/core-js/internals/object-to-array.js","webpack://lrc-maker/./node_modules/core-js/internals/own-keys.js","webpack://lrc-maker/./node_modules/core-js/internals/path.js","webpack://lrc-maker/./node_modules/core-js/internals/redefine.js","webpack://lrc-maker/./node_modules/core-js/internals/require-object-coercible.js","webpack://lrc-maker/./node_modules/core-js/internals/set-global.js","webpack://lrc-maker/./node_modules/core-js/internals/shared-key.js","webpack://lrc-maker/./node_modules/core-js/internals/shared-store.js","webpack://lrc-maker/./node_modules/core-js/internals/shared.js","webpack://lrc-maker/./node_modules/core-js/internals/string-pad-webkit-bug.js","webpack://lrc-maker/./node_modules/core-js/internals/string-pad.js","webpack://lrc-maker/./node_modules/core-js/internals/string-repeat.js","webpack://lrc-maker/./node_modules/core-js/internals/to-absolute-index.js","webpack://lrc-maker/./node_modules/core-js/internals/to-indexed-object.js","webpack://lrc-maker/./node_modules/core-js/internals/to-integer.js","webpack://lrc-maker/./node_modules/core-js/internals/to-length.js","webpack://lrc-maker/./node_modules/core-js/internals/to-primitive.js","webpack://lrc-maker/./node_modules/core-js/internals/uid.js","webpack://lrc-maker/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://lrc-maker/./node_modules/core-js/internals/well-known-symbol.js","webpack://lrc-maker/./node_modules/core-js/modules/es.array.includes.js","webpack://lrc-maker/./node_modules/core-js/modules/es.object.entries.js","webpack://lrc-maker/./node_modules/core-js/modules/es.object.values.js","webpack://lrc-maker/./node_modules/core-js/modules/es.string.pad-end.js","webpack://lrc-maker/./node_modules/core-js/modules/es.string.pad-start.js","webpack://lrc-maker/./node_modules/tslib/tslib.es6.js","webpack://lrc-maker/webpack/bootstrap","webpack://lrc-maker/webpack/runtime/compat get default export","webpack://lrc-maker/webpack/runtime/define property getters","webpack://lrc-maker/webpack/runtime/global","webpack://lrc-maker/webpack/runtime/hasOwnProperty shorthand","webpack://lrc-maker/webpack/runtime/make namespace object","webpack://lrc-maker/./src/polyfill/details-summary.ts","webpack://lrc-maker/./src/components/loadaudio.tsx","webpack://lrc-maker/./src/components/home.tsx","webpack://lrc-maker/./src/components/content.tsx","webpack://lrc-maker/./src/components/audio.tsx","webpack://lrc-maker/./src/components/footer.tsx","webpack://lrc-maker/./src/components/header.tsx","webpack://lrc-maker/./src/index.ts","webpack://lrc-maker/./src/components/app.tsx"],"names":["map","webpackAsyncContext","req","webpackAsyncContextResolve","then","__webpack_require__","Promise","resolve","o","e","Error","code","keys","Object","id","module","exports","useLang","value","setValue","React","useState","useCallback","lang","setLang","langCode","language","createContext","useEffect","useMemo","appContext","undefined","prev","next","bits","prefState","builtInAudio","AppProvider","children","prefDispatch","usePref","localStorage","getItem","catch","error","toast","type","text","message","document","title","app","fullname","documentElement","trimOptions","trimStart","spaceStart","trimEnd","spaceEnd","Provider","useContext","useRef","disableCheck","autoCapitalize","autoComplete","autoCorrect","spellCheck","useDefaultValue","defaultValue","ref","$ref","a","b","current","Eidtor","lrcState","lrcDispatch","parse","ev","payload","target","options","setInfo","name","details","onDetailsToggle","sessionStorage","setItem","open","toString","detailsOpened","textarea","href","setHref","onDownloadClick","url","URL","revokeObjectURL","createObjectURL","Blob","onTextFileUpload","files","length","fileReader","FileReader","addEventListener","result","readAsText","onCopyClick","select","execCommand","downloadName","info","canSaveToGist","onGistSave","setTimeout","prompt","editor","saveFileName","className","onToggle","metaInfo","onBlur","htmlFor","placeholder","get","artist","album","uploadText","hidden","accept","onChange","copyText","onClick","downloadText","download","saveToGist","utils","Gist","langName","token","setToken","gistId","setGistId","gistIdList","setGistIdList","fileList","setFileList","JSON","ratelimit","onSubmitToken","preventDefault","elements","namedItem","onCreateNewGist","json","onSubmitGistId","window","filter","gist","description","values","file","filename","endsWith","stringify","onFileLoad","dataset","key","Number","parseInt","truncated","fetch","raw_url","res","content","onClear","RateLimit","RatelimitReset","Intl","DateTimeFormat","year","month","day","hour","minute","second","hour12","format","Date","GistDetails","rel","clearTokenAndGist","NewToken","newTokenTip","newTokenButton","onSubmit","minLength","maxLength","required","NewGistID","option","gistIdDataList","newGistTip","newGistRepoButton","list","gistIdPlaceholder","FileCardList","FileCard","index","GistLoading","numberInputProps","step","useNumberInput","removeEventListener","$onChange","validity","valid","Preferences","onColorPick","userColorInputText","onUserInput","input","call","v","join","padEnd","onUserColorInputBlur","onColorSubmit","themeColor","slice","onSpaceChange","onCacheClear","navigator","caches","cacheNames","all","cacheName","startsWith","delete","serviceWorker","getRegistration","registration","unregister","location","reload","updateTime","date","timeZoneName","onLangChanged","onBuiltInAudioToggle","onScreenButtonToggle","screenButton","onThemeModeChange","onFixedChanged","LangOptionList","entries","ColorPickerWall","color","checked","classNames","push","style","backgroundColor","currentThemeColorStyle","formatedText","userColorLabel","userColorInput","removeAttribute","preferences","version","commitHash","repo","help","spaceButton","themeMode","label","auto","light","dark","pattern","lrcFormat","fixed","leftSpace","min","rightSpace","onTransitionEnd","clearCache","AkariHideWall","alt","src","crossOrigin","AkariNotFound","AkariOangoLoading","HomeSVG","xmlns","width","height","viewBox","fill","d","EditorSVG","SynchronizerSVG","CloudSVG","PreferencesSVG","PlaySVG","PauseSVG","Replay5sSVG","Forward5sSVG","LoadAudioSVG","CloseSVG","opacity","DownloadSVG","LockSVG","CopySVG","OpenFileSVG","CloudUploadSVG","GithubSVG","CheckSVG","InfoSVG","ProblemSVG","UtilitySVG","AsidePanel","memo","syncMode","setSyncMode","setName","onSyncModeToggle","state","mode","displayName","Curser","self","Symbol","time","setTime","paused","setPaused","rate","setRate","data","B","setInterval","clearInterval","SpaceButton","sync","Synchronizer","dispatch","selectIndex","currentIndex","highlightIndex","ul","needScrollLine","line","scrollIntoView","behavior","block","inline","listener","codeOrKey","metaKey","ctrlKey","includes","Infinity","onLineClick","stopPropagation","classList","contains","lineKey","onLineDoubleClick","lyric","LyricLineIter","lines","highlight","reduce","p","LyricLine","ulClassName","onClickCapture","onDoubleClickCapture","lineTime","lineText","toastPubSub","box","Toast","toastQueue","setToastQueue","sub","queue","onAnimationEnd","animationName","ToastIter","badge","success","warning","guard","max","reducer","action","lrc","audioTime","currentTime","nextTime","record","c","i","nextIndex","obj","mergeObject","newLyric","Map","trim","set","init","lazyInit","useLrc","useReducer","getElementById","textContent","orange","yellow","lime","green","blue","navy","grey","red","pink","purple","initState","languages","find","storedState","validKeys","languageName","header","home","synchronizer","audio","loadAudio","play","pause","replay5s","forward5s","resetRate","loadFile","tips","tipForLyricText","tipForUploadAudio","tipForSynchronizer","tipTopLeft","tipTopRight","tipBottomLeft","tipBottomRight","notify","audioLoaded","parser","lrcString","split","timeTag","infoTag","lastIndex","rTimeTag","exec","mm","ss","parseFloat","replace","rInfoTag","forEach","storedFormatter","convertTimeToTag","withBrackets","formatter","has","newFormatter","NumberFormat","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","useGrouping","getFormatter","Math","floor","padStart","formatText","newText","repeat","endOfLine","infos","Array","from","concat","getNow","performance","rafID","cancelScroll","cancelAnimationFrame","cleanEventListener","listenerOptions","passive","once","context","now","startTime","startX","startY","stopY","elapsed","method","k","currentY","cos","PI","requestAnimationFrame","scrollingElement","Element","prototype","top","bottom","this","getBoundingClientRect","center","viewportHeight","visualViewport","innerHeight","scrollLeft","scrollTop","x","y","scroll","audioRef","duration","playbackRate","audioStatePubSub","currentTimePubSub","apiUrl","getRepos","headers","Authorization","ok","statusText","createRepo","body","public","assignRepo","getFils","etag","status","createFile","fileName","isKeyboardElement","element","lrcFileName","lrcInfo","toLocaleString","filenamify","createPubSub","bus","pub","cb","entryUnbind","path","it","TypeError","String","wellKnownSymbol","create","definePropertyModule","UNSCOPABLES","ArrayPrototype","f","configurable","isObject","toIndexedObject","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","O","indexOf","DESCRIPTORS","fails","defineProperty","cache","thrower","METHOD_NAME","ACCESSORS","argument0","argument1","enumerable","ownKeys","getOwnPropertyDescriptorModule","source","getOwnPropertyDescriptor","createPropertyDescriptor","object","bitmap","writable","global","EXISTS","createElement","getBuiltIn","bind","Function","CONSTRUCTOR","METHOD","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","aFunction","fn","that","apply","arguments","variable","namespace","check","globalThis","g","hasOwnProperty","classof","propertyIsEnumerable","store","functionToString","inspectSource","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","WeakMap","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","TYPE","replacement","feature","detection","normalize","POLYFILL","NATIVE","string","toLowerCase","getOwnPropertySymbols","test","activeXDocument","anObject","defineProperties","enumBugKeys","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","LT","NullProtoObject","domain","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","display","appendChild","contentWindow","F","Properties","objectKeys","IE8_DOM_DEFINE","toPrimitive","nativeDefineProperty","P","Attributes","propertyIsEnumerableModule","nativeGetOwnPropertyDescriptor","internalObjectKeys","getOwnPropertyNames","names","nativePropertyIsEnumerable","NASHORN_BUG","1","V","TO_ENTRIES","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","InternalStateModule","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","uid","SHARED","IS_PURE","copyright","userAgent","requireObjectCoercible","ceil","IS_END","fillString","fillLen","stringFiller","S","stringLength","fillStr","intMaxLength","start","end","toInteger","count","str","n","RangeError","integer","IndexedObject","argument","isNaN","PREFERRED_STRING","val","valueOf","postfix","random","NATIVE_SYMBOL","iterator","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","$includes","addToUnscopables","proto","arrayMethodUsesToLength","$entries","$values","$padEnd","$padStart","__awaiter","thisArg","_arguments","generator","reject","fulfilled","rejected","done","__webpack_module_cache__","moduleId","__webpack_modules__","getter","__esModule","definition","prop","r","toStringTag","polyfilldetails","constructor","openProperty","tagName","hasAttribute","event","createEvent","initEvent","dispatchEvent","setAttribute","summary","closest","parentElement","loadAudioDialogRef","LoadAudio","setAudioSrc","onEscapeKeyDown","isOpen","urlInput","nec","onFocus","ReactDOM","createPortal","defaultChecked","match","Home","shiftKey","hash","lazy","LazyEditor","default","LazySynchronizer","LazyGist","LazyPreferences","Content","setPath","saveState","dataTransfer","onload","theme","rgb","hex2rgb","setProperty","con","luminanace","contrastColor","Suspense","fallback","pow","hex","Slider","onInput","percent","TimeLine","setCurrentTime","rafId","durationTimeTag","RateSlider","setPlaybackRate","playbackRateSliderValue","log","onPlaybackRateChange","exp","onPlaybackRateReset","toFixed","LrcAudio","setDuration","onReplay5s","onForward5s","onPlayPauseToggle","onLoadAudioButtonClick","disabled","Footer","audioSrc","oldSrc","newSrc","search","URLSearchParams","searchParams","ac","newRate","receiveFile","onAudioInputChange","onAudioLoadedMetadata","syncCurrentTime","onAudioPlay","onAudioPause","onAudioEnded","onAudioTimeUpdate","onAudioRateChange","onAudioError","controls","onLoadedMetadata","onPlay","onPause","onEnded","onTimeUpdate","onRateChange","onError","removeItem","worker","Worker","dataArray","musicFile","detectMimeType","terminate","postMessage","DataView","buffer","getUint32","Header","render","querySelector","remove","standalone","matchMedia","matches","getAttribute","dropEffect"],"mappings":"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","file":"index.es6.js","sourcesContent":["var map = {\n\t\"./en-US.js\": 5183,\n\t\"./ja.js\": 2869,\n\t\"./ko-KR.js\": 1131,\n\t\"./zh-CN.js\": 7004,\n\t\"./zh-HK.js\": 5187,\n\t\"./zh-TW.js\": 3904\n};\n\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(__webpack_require__);\n}\nfunction webpackAsyncContextResolve(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = () => Object.keys(map);\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = 2435;\nmodule.exports = webpackAsyncContext;","import { language as enUS } from \"../languages/en-US.js\";\n\nexport const useLang = (): [Language, (lang: string) => Promise<void>] => {\n    const [value, setValue] = React.useState<Language>(enUS);\n\n    const setLang = async (langCode: string): Promise<void> => {\n        const { language } = (await import(\n            /* webpackMode: \"eager\" */ `../languages/${langCode}.js`\n        )) as typeof import(\"../languages/en-US.js\");\n        setValue(language);\n    };\n\n    return [value, React.useCallback((lang: string) => setLang(lang), [])];\n};\n","import { useLang } from \"../hooks/useLang.js\";\nimport { Action as PrefAction, State as PrefState, usePref } from \"../hooks/usePref.js\";\nimport { TrimOptios } from \"../lrc-parser.js\";\nimport { toastPubSub } from \"./toast.js\";\n\nconst { createContext, useEffect, useMemo } = React;\n\ninterface IAppContext {\n    lang: Language;\n    prefState: PrefState;\n    prefDispatch: React.Dispatch<PrefAction>;\n    trimOptions: Required<TrimOptios>;\n}\n\nconst enum Bits {\n    lang,\n    // lrcFormat,\n    builtInAudio,\n    // screenButton,\n    // themeColor,\n    prefState,\n}\n\n// tslint:disable: no-bitwise\nexport const enum ChangBits {\n    lang = 1 << Bits.lang,\n    // lrcFormat = 1 << Bits.lrcFormat,\n    builtInAudio = 1 << Bits.builtInAudio,\n    // screenButton = 1 << Bits.screenButton,\n    // themeColor = 1 << Bits.themeColor,\n    prefState = 1 << Bits.prefState,\n}\n\nexport const appContext = createContext<IAppContext>(undefined, (prev, next) => {\n    let bits = 0;\n\n    if (prev.lang !== next.lang) {\n        bits |= ChangBits.lang;\n    }\n\n    // const changed = (prop: keyof IAppContext[\"prefState\"]) => {\n    //     return prev.prefState[prop] !== next.prefState[prop];\n    // };\n\n    // if (changed(\"spaceStart\") || changed(\"spaceEnd\") || changed(\"fixed\")) {\n    //     bits |= ChangBits.lrcFormat;\n    // }\n\n    // if (changed(\"builtInAudio\")) {\n    //     bits |= ChangBits.builtInAudio;\n    // }\n    // if (changed(\"screenButton\")) {\n    //     bits |= ChangBits.screenButton;\n    // }\n\n    // if (changed(\"themeColor\")) {\n    //     bits |= ChangBits.themeColor;\n    // }\n\n    if (prev.prefState.builtInAudio !== next.prefState.builtInAudio) {\n        bits |= ChangBits.builtInAudio;\n    }\n\n    if (prev.prefState !== next.prefState) {\n        bits |= ChangBits.prefState;\n    }\n\n    return bits;\n});\n\nexport const AppProvider: React.FC = ({ children }) => {\n    const [prefState, prefDispatch] = usePref(() => localStorage.getItem(LSK.preferences) || Const.emptyString);\n\n    const [lang, setLang] = useLang();\n\n    useEffect(() => {\n        setLang(prefState.lang).catch((error: Error) => {\n            toastPubSub.pub({\n                type: \"warning\",\n                text: error.message,\n            });\n        });\n    }, [prefState.lang, setLang]);\n\n    useEffect(() => {\n        document.title = lang.app.fullname;\n        document.documentElement.lang = prefState.lang;\n    }, [lang, prefState, prefState.lang]);\n\n    const value = useMemo(() => {\n        return {\n            lang,\n            prefState,\n            prefDispatch,\n            trimOptions: {\n                trimStart: prefState.spaceStart >= 0,\n                trimEnd: prefState.spaceEnd >= 0,\n            },\n        };\n    }, [lang, prefDispatch, prefState]);\n\n    return <appContext.Provider value={value}>{children}</appContext.Provider>;\n};\n","import { Action as LrcAction, ActionType as LrcActionType } from \"../hooks/useLrc.js\";\nimport { State as LrcState, stringify } from \"../lrc-parser.js\";\nimport { createFile } from \"../utils/gistapi.js\";\nimport { lrcFileName } from \"../utils/lrc-file-name.js\";\nimport { appContext } from \"./app.context.js\";\nimport { CloudUploadSVG, CopySVG, DownloadSVG, OpenFileSVG, UtilitySVG } from \"./svg.js\";\nimport { toastPubSub } from \"./toast.js\";\n\nconst { useCallback, useContext, useEffect, useMemo, useRef, useState } = React;\n\nconst disableCheck = {\n    autoCapitalize: \"none\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    spellCheck: false,\n};\n\ntype HTMLInputLikeElement = HTMLInputElement & HTMLTextAreaElement;\n\ntype UseDefaultValue<T = React.RefObject<HTMLInputLikeElement>> = (\n    defaultValue: string,\n    ref?: T,\n) => { defaultValue: string; ref: T };\n\nconst useDefaultValue: UseDefaultValue = (defaultValue, ref) => {\n    const or = <T extends unknown, K extends unknown>(a: T, b: K): NonNullable<T> | K => a ?? b;\n\n    const $ref = or(ref, useRef<HTMLInputLikeElement>(null));\n\n    useEffect(() => {\n        if ($ref.current) {\n            $ref.current.value = defaultValue;\n        }\n    }, [defaultValue, $ref]);\n    return { ref: $ref, defaultValue };\n};\n\nexport const Eidtor: React.SFC<{\n    lrcState: LrcState;\n    lrcDispatch: React.Dispatch<LrcAction>;\n}> = ({ lrcState, lrcDispatch }) => {\n    const { prefState, lang, trimOptions } = useContext(appContext);\n\n    const parse = useCallback(\n        (ev: React.FocusEvent<HTMLTextAreaElement>) => {\n            lrcDispatch({\n                type: LrcActionType.parse,\n                payload: { text: ev.target.value, options: trimOptions },\n            });\n        },\n        [lrcDispatch, trimOptions],\n    );\n\n    const setInfo = useCallback(\n        (ev: React.FocusEvent<HTMLInputElement>) => {\n            const { name, value } = ev.target;\n            lrcDispatch({\n                type: LrcActionType.info,\n                payload: { name, value },\n            });\n        },\n        [lrcDispatch],\n    );\n\n    const text = stringify(lrcState, prefState);\n\n    const details = useRef<HTMLDetailsElement>(null);\n\n    const onDetailsToggle = useCallback(() => {\n        sessionStorage.setItem(SSK.editorDetailsOpen, details.current!.open.toString());\n    }, []);\n\n    const detailsOpened = useMemo(() => {\n        return sessionStorage.getItem(SSK.editorDetailsOpen) !== \"false\";\n    }, []);\n\n    const textarea = useRef<HTMLInputLikeElement>(null);\n    const [href, setHref] = useState<string | undefined>(undefined);\n\n    const onDownloadClick = useCallback(() => {\n        setHref((url) => {\n            if (url) {\n                URL.revokeObjectURL(url);\n            }\n\n            return URL.createObjectURL(\n                new Blob([textarea.current!.value], {\n                    type: \"text/plain;charset=UTF-8\",\n                }),\n            );\n        });\n    }, []);\n\n    const onTextFileUpload = useCallback(\n        (ev: React.ChangeEvent<HTMLInputElement>) => {\n            if (ev.target.files === null || ev.target.files.length === 0) {\n                return;\n            }\n\n            const fileReader = new FileReader();\n            fileReader.addEventListener(\"load\", () => {\n                lrcDispatch({\n                    type: LrcActionType.parse,\n                    payload: { text: fileReader.result as string, options: trimOptions },\n                });\n            });\n            fileReader.readAsText(ev.target.files[0], \"UTF-8\");\n        },\n        [lrcDispatch, trimOptions],\n    );\n\n    const onCopyClick = useCallback(() => {\n        textarea.current?.select();\n        document.execCommand(\"copy\");\n    }, []);\n\n    const downloadName = useMemo(() => lrcFileName(lrcState.info), [lrcState.info]);\n\n    const canSaveToGist = useMemo(() => {\n        return localStorage.getItem(LSK.token) !== null && localStorage.getItem(LSK.gistId) !== null;\n    }, []);\n\n    const onGistSave = useCallback(() => {\n        setTimeout(() => {\n            const name = prompt(lang.editor.saveFileName, downloadName);\n            if (name) {\n                createFile(name, textarea.current!.value).catch((error: Error) => {\n                    toastPubSub.pub({\n                        type: \"warning\",\n                        text: error.message,\n                    });\n                });\n            }\n        }, 500);\n    }, [downloadName, lang]);\n\n    return (\n        <div className=\"app-editor\">\n            <details ref={details} open={detailsOpened} onToggle={onDetailsToggle}>\n                <summary>{lang.editor.metaInfo}</summary>\n                <section className=\"app-editor-infobox\" onBlur={setInfo}>\n                    <label htmlFor=\"info-ti\">[ti:</label>\n                    <input\n                        id=\"info-ti\"\n                        name=\"ti\"\n                        placeholder={lang.editor.title}\n                        {...disableCheck}\n                        {...useDefaultValue(lrcState.info.get(\"ti\") || \"\")}\n                    />\n                    <label htmlFor=\"info-ti\">]</label>\n                    <label htmlFor=\"info-ar\">[ar:</label>\n                    <input\n                        id=\"info-ar\"\n                        name=\"ar\"\n                        placeholder={lang.editor.artist}\n                        {...disableCheck}\n                        {...useDefaultValue(lrcState.info.get(\"ar\") || \"\")}\n                    />\n                    <label htmlFor=\"info-ar\">]</label>\n                    <label htmlFor=\"info-al\">[al:</label>\n                    <input\n                        id=\"info-al\"\n                        name=\"al\"\n                        placeholder={lang.editor.album}\n                        {...disableCheck}\n                        {...useDefaultValue(lrcState.info.get(\"al\") || \"\")}\n                    />\n                    <label htmlFor=\"info-al\">]</label>\n                </section>\n            </details>\n\n            <section className=\"editor-tools\">\n                <label className=\"editor-tools-item ripple\" title={lang.editor.uploadText}>\n                    <input hidden={true} type=\"file\" accept=\"text/*, .txt, .lrc\" onChange={onTextFileUpload} />\n                    <OpenFileSVG />\n                </label>\n                <button className=\"editor-tools-item ripple\" title={lang.editor.copyText} onClick={onCopyClick}>\n                    <CopySVG />\n                </button>\n                <a\n                    className=\"editor-tools-item ripple\"\n                    title={lang.editor.downloadText}\n                    href={href}\n                    onClick={onDownloadClick}\n                    download={downloadName}\n                >\n                    <DownloadSVG />\n                </a>\n\n                <a\n                    title={lang.editor.saveToGist}\n                    href={canSaveToGist ? undefined : Path.gist}\n                    className=\"editor-tools-item ripple\"\n                    onClick={canSaveToGist ? onGistSave : undefined}\n                >\n                    <CloudUploadSVG />\n                </a>\n\n                <a title={lang.editor.utils} href=\"/lrc-utils/\" className=\"editor-tools-item ripple\">\n                    <UtilitySVG />\n                </a>\n            </section>\n\n            <textarea\n                className=\"app-textarea\"\n                aria-label=\"lrc input here\"\n                onBlur={parse}\n                {...disableCheck}\n                {...useDefaultValue(text, textarea)}\n            />\n        </div>\n    );\n};\n","import { Action as LrcAction, ActionType as LrcActionType } from \"../hooks/useLrc.js\";\nimport {\n    assignRepo,\n    createRepo,\n    getFils,\n    getRepos,\n    GistInfo,\n    IGistFile,\n    IGistRepo,\n    Ratelimit,\n} from \"../utils/gistapi.js\";\nimport { appContext } from \"./app.context.js\";\nimport { AkariNotFound, AkariOangoLoading } from \"./svg.img.js\";\nimport { EditorSVG, GithubSVG, SynchronizerSVG } from \"./svg.js\";\nimport { toastPubSub } from \"./toast.js\";\n\nconst { useCallback, useContext, useEffect, useMemo, useState } = React;\n\nconst newTokenUrl = \"https://github.com/settings/tokens/new?scopes=gist&description=https://lrc-maker.github.io\";\n\nconst disableCheck = {\n    autoCapitalize: \"none\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    spellCheck: false,\n};\n\ninterface IGistProps {\n    lrcDispatch: React.Dispatch<LrcAction>;\n    langName: string;\n}\n\nexport const Gist: React.FC<IGistProps> = ({ lrcDispatch, langName }) => {\n    const { lang, trimOptions } = useContext(appContext);\n\n    const [token, setToken] = useState(() => localStorage.getItem(LSK.token));\n    const [gistId, setGistId] = useState(() => localStorage.getItem(LSK.gistId));\n    const [gistIdList, setGistIdList] = useState<string[] | undefined>(undefined);\n    const [fileList, setFileList] = useState<IGistFile[] | null>(() => JSON.parse(localStorage.getItem(LSK.gistFile)!));\n\n    const ratelimit: Ratelimit | null = useMemo(() => {\n        return JSON.parse(sessionStorage.getItem(SSK.ratelimit)!);\n    }, []);\n\n    const onSubmitToken = useCallback((ev: React.FormEvent<HTMLFormElement>) => {\n        ev.preventDefault();\n\n        const form = ev.target as HTMLFormElement;\n        const tokenInput = form.elements.namedItem(\"token\") as HTMLInputElement;\n\n        const value = tokenInput.value;\n\n        localStorage.setItem(LSK.token, value);\n        setToken(value);\n    }, []);\n\n    const onCreateNewGist = useCallback(() => {\n        createRepo()\n            .then((json: IGistRepo) => {\n                localStorage.setItem(LSK.gistId, json.id);\n                setGistId(json.id);\n            })\n            .catch((error: Error) => {\n                toastPubSub.pub({\n                    type: \"warning\",\n                    text: error.message,\n                });\n            });\n    }, []);\n\n    const onSubmitGistId = useCallback((ev: React.FormEvent<HTMLFormElement>) => {\n        ev.preventDefault();\n\n        const form = ev.target as HTMLFormElement;\n        const gistIdInput = form.elements.namedItem(\"gist-id\") as HTMLInputElement;\n        const value = gistIdInput.value;\n\n        localStorage.setItem(LSK.gistId, value);\n        setGistId(value);\n\n        assignRepo().catch((error: Error) => {\n            toastPubSub.pub({\n                type: \"warning\",\n                text: error.message,\n            });\n        });\n    }, []);\n\n    useEffect(() => {\n        if (gistId !== null || token === null) {\n            return;\n        }\n\n        if (!(\"HTMLDataListElement\" in window)) {\n            return;\n        }\n\n        getRepos()\n            .then((result) => {\n                setGistIdList(\n                    result\n                        .filter((gist) => {\n                            return gist.description === GistInfo.description && GistInfo.fileName in gist.files;\n                        })\n                        .map(({ id }) => id),\n                );\n            })\n            .catch((error: Error) => {\n                toastPubSub.pub({\n                    type: \"warning\",\n                    text: error.message,\n                });\n            });\n    }, [token, gistId]);\n\n    useEffect(() => {\n        if (gistId === null) {\n            return;\n        }\n\n        getFils()\n            .then((result) => {\n                if (result === null) {\n                    return;\n                }\n\n                const files = Object.values(result.files).filter((file) => file.filename.endsWith(\".lrc\"));\n                localStorage.setItem(\n                    LSK.gistFile,\n                    JSON.stringify(files, [\"filename\", \"content\", \"truncated\", \"raw_url\"]),\n                );\n                setFileList(files);\n            })\n            .catch((error: Error) => {\n                toastPubSub.pub({\n                    type: \"warning\",\n                    text: error.message,\n                });\n            });\n    }, [gistId]);\n\n    const onFileLoad = useCallback(\n        (ev: React.MouseEvent<HTMLElement, MouseEvent>) => {\n            const target = ev.target as HTMLElement;\n\n            if (!(\"key\" in target.dataset)) {\n                return;\n            }\n\n            const key = Number.parseInt(target.dataset.key!, 10);\n            const file = fileList?.[key];\n            if (!file) {\n                return;\n            }\n            if (file.truncated) {\n                fetch(file.raw_url)\n                    .then((res) => res.text())\n                    .then((text) => {\n                        lrcDispatch({\n                            type: LrcActionType.parse,\n                            payload: { text, options: trimOptions },\n                        });\n                    })\n                    .catch((error: Error) => {\n                        toastPubSub.pub({\n                            type: \"warning\",\n                            text: error.message,\n                        });\n                    });\n            } else {\n                lrcDispatch({\n                    type: LrcActionType.parse,\n                    payload: { text: file.content, options: trimOptions },\n                });\n            }\n        },\n        [fileList, lrcDispatch, trimOptions],\n    );\n\n    const onClear = useCallback(() => {\n        setGistId(null);\n        setToken(null);\n    }, []);\n\n    const RateLimit = useMemo(() => {\n        if (ratelimit === null) {\n            return false;\n        }\n\n        const RatelimitReset = new Intl.DateTimeFormat(langName, {\n            year: \"numeric\",\n            month: \"short\",\n            day: \"numeric\",\n            hour: \"numeric\",\n            minute: \"numeric\",\n            second: \"numeric\",\n            hour12: false,\n        }).format(new Date(Number.parseInt(ratelimit[\"x-ratelimit-reset\"], 10) * 1000));\n\n        return (\n            <section className=\"ratelimit\">\n                <p>\n                    {\"ratelimit-limit: \"}\n                    {ratelimit[\"x-ratelimit-limit\"]}\n                </p>\n                <p>\n                    {\"ratelimit-remaining: \"}\n                    {ratelimit[\"x-ratelimit-remaining\"]}\n                </p>\n                <p>\n                    {\"ratelimit-reset: \"}\n                    {RatelimitReset}\n                </p>\n            </section>\n        );\n    }, [ratelimit, langName]);\n\n    const GistDetails: React.FC = useCallback(() => {\n        if (gistId !== null && token !== null) {\n            return (\n                <details className=\"gist-details\">\n                    <summary>{lang.gist.info}</summary>\n                    <section className=\"gist-bar\">\n                        <section className=\"gist-info\">\n                            <p>\n                                {\"Gist id: \"}\n                                <a\n                                    href={`https://gist.github.com/${gistId}`}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                    className=\"link\"\n                                >\n                                    {gistId}\n                                </a>\n                            </p>\n                            <button className=\"button\" onClick={onClear}>\n                                {lang.gist.clearTokenAndGist}\n                            </button>\n                        </section>\n                        {RateLimit}\n                    </section>\n                </details>\n            );\n        }\n        return null;\n    }, [gistId, token, lang.gist.info, lang.gist.clearTokenAndGist, onClear, RateLimit]);\n\n    const NewToken = useMemo(() => {\n        if (token === null) {\n            return (\n                <section className=\"new-token\">\n                    <GithubSVG />\n                    <p className=\"new-token-tip-text\">{lang.gist.newTokenTip}</p>\n                    <a className=\"new-token-tip button\" target=\"_blank\" rel=\"noopener noreferrer\" href={newTokenUrl}>\n                        {lang.gist.newTokenButton}\n                    </a>\n                    <form className=\"new-token-form\" onSubmit={onSubmitToken}>\n                        <label htmlFor=\"github-token\">Token:</label>\n                        <input\n                            type=\"text\"\n                            className=\"new-token-input\"\n                            id=\"github-token\"\n                            name=\"token\"\n                            key=\"token\"\n                            minLength={40}\n                            maxLength={40}\n                            required={true}\n                            {...disableCheck}\n                        />\n                        <input className=\"new-token-submit button\" type=\"submit\" />\n                    </form>\n                </section>\n            );\n        }\n    }, [token, lang.gist.newTokenTip, lang.gist.newTokenButton, onSubmitToken]);\n\n    const NewGistID = useMemo(() => {\n        if (gistId === null) {\n            const option = (id: string): JSX.Element => {\n                return <option key={id} value={id} />;\n            };\n            const gistIdDataList = gistIdList && (\n                <datalist id=\"gist-list\">{gistIdList.map((id) => option(id))};</datalist>\n            );\n\n            return (\n                <section className=\"get-gist-id\">\n                    <GithubSVG />\n                    <p className=\"gist-id-tip-text\">{lang.gist.newGistTip}</p>\n                    <button className=\"create-new-gist button\" onClick={onCreateNewGist}>\n                        {lang.gist.newGistRepoButton}\n                    </button>\n                    <form className=\"gist-id-form\" onSubmit={onSubmitGistId}>\n                        <label htmlFor=\"gist-id\">Gist id:</label>\n                        <input\n                            type=\"text\"\n                            className=\"gist-id-input\"\n                            id=\"gist-id\"\n                            name=\"gist-id\"\n                            key=\"gist-id\"\n                            list=\"gist-list\"\n                            placeholder={lang.gist.gistIdPlaceholder}\n                            required={true}\n                            {...disableCheck}\n                        />\n\n                        <input className=\"button\" type=\"submit\" />\n                        {gistIdDataList}\n                    </form>\n                </section>\n            );\n        }\n    }, [\n        gistId,\n        gistIdList,\n        lang.gist.newGistTip,\n        lang.gist.newGistRepoButton,\n        lang.gist.gistIdPlaceholder,\n        onCreateNewGist,\n        onSubmitGistId,\n    ]);\n\n    const FileCardList = useMemo(() => {\n        if (fileList !== null) {\n            const FileCard = (file: IGistFile, index: number): JSX.Element => {\n                return (\n                    <article className=\"file-item\" key={file.raw_url}>\n                        <section className=\"file-content\">{file.content}</section>\n                        <hr />\n                        <section className=\"file-bar\">\n                            <span className=\"file-title\">{file.filename}</span>\n                            <span className=\"file-action\">\n                                <a className=\"file-load\" href={Path.editor} data-key={index}>\n                                    <EditorSVG />\n                                </a>\n                                <a className=\"file-load\" href={Path.synchronizer} data-key={index}>\n                                    <SynchronizerSVG />\n                                </a>\n                            </span>\n                        </section>\n                    </article>\n                );\n            };\n            if (fileList.length === 0) {\n                return (\n                    <section className=\"gist-no-data\">\n                        <AkariNotFound />\n                    </section>\n                );\n            }\n\n            return (\n                <section className=\"file-list\" onClick={onFileLoad}>\n                    {fileList.map(FileCard)}\n                </section>\n            );\n        }\n    }, [fileList, onFileLoad]);\n\n    return (\n        <div className=\"gist\">\n            <GistDetails />\n            {NewToken || NewGistID || FileCardList || <GistLoading />}\n        </div>\n    );\n};\n\nconst GistLoading: React.FC = () => {\n    return (\n        <section className=\"gist-loading\">\n            <AkariOangoLoading />\n        </section>\n    );\n};\n","import { info, themeColor, ThemeMode } from \"../hooks/usePref.js\";\nimport { convertTimeToTag, formatText } from \"../lrc-parser.js\";\nimport { unregister } from \"../utils/sw.unregister.js\";\nimport { appContext, ChangBits } from \"./app.context.js\";\nimport { AkariHideWall } from \"./svg.img.js\";\n\nconst { useCallback, useContext, useEffect, useMemo, useRef } = React;\n\nconst numberInputProps = { type: \"number\", step: 1 } as const;\n\ntype OnChange<T> = (event: React.ChangeEvent<T>) => void;\n\ninterface IUseNumberInput<T = HTMLInputElement> {\n    (defaultValue: number, onChange: OnChange<T>): typeof numberInputProps & {\n        ref: React.RefObject<T>;\n        onChange: OnChange<T>;\n        defaultValue: number;\n    };\n}\n\nconst useNumberInput: IUseNumberInput = (defaultValue: number, onChange) => {\n    const ref = useRef<HTMLInputElement>(null);\n    useEffect(() => {\n        const target = ref.current;\n        if (target) {\n            const onChange = (): void => {\n                target.value = defaultValue.toString();\n            };\n\n            target.addEventListener(\"change\", onChange);\n            return (): void => target.removeEventListener(\"change\", onChange);\n        }\n    }, [defaultValue]);\n\n    const $onChange = useCallback(\n        (ev: React.ChangeEvent<HTMLInputElement>) => {\n            if (ev.target.validity.valid) {\n                onChange(ev);\n            }\n        },\n        [onChange],\n    );\n\n    return { ...numberInputProps, ref, onChange: $onChange, defaultValue };\n};\n\nexport const Preferences: React.FC = () => {\n    const { prefState, prefDispatch, lang } = useContext(appContext, ChangBits.lang || ChangBits.prefState);\n\n    const onColorPick = useCallback(\n        (ev: React.ChangeEvent<HTMLInputElement>) => {\n            prefDispatch({\n                type: \"themeColor\",\n                payload: ev.target.value,\n            });\n        },\n        [prefDispatch],\n    );\n\n    const userColorInputText = useRef<HTMLInputElement>(null);\n\n    const onUserInput = useCallback(\n        (input: EventTarget & HTMLInputElement) => {\n            let value = input.value;\n\n            if (!input.validity.valid) {\n                input.value = input.defaultValue;\n                return;\n            }\n\n            if (value.length === 3) {\n                value = [].map.call(value, (v: string) => v + v).join(\"\");\n            }\n            if (value.length < 6) {\n                value = value.padEnd(6, \"0\");\n            }\n\n            prefDispatch({\n                type: \"themeColor\",\n                payload: \"#\" + value,\n            });\n        },\n        [prefDispatch],\n    );\n\n    const onUserColorInputBlur = useCallback((ev: React.FocusEvent<HTMLInputElement>) => onUserInput(ev.target), [\n        onUserInput,\n    ]);\n\n    const onColorSubmit = useCallback(\n        (ev: React.FormEvent<HTMLFormElement>) => {\n            ev.preventDefault();\n\n            const form = ev.target as HTMLFormElement;\n\n            const input = form.elements.namedItem(\"user-color-input-text\") as HTMLInputElement;\n\n            return onUserInput(input);\n        },\n        [onUserInput],\n    );\n\n    useEffect(() => {\n        userColorInputText.current!.value = prefState.themeColor.slice(1);\n    }, [prefState.themeColor]);\n\n    const onSpaceChange = useCallback(\n        (ev: React.ChangeEvent<HTMLInputElement>) => {\n            prefDispatch({\n                type: ev.target.name as \"spaceStart\" & \"spaceEnd\",\n                payload: ev.target.value,\n            });\n        },\n        [prefDispatch],\n    );\n\n    const onCacheClear = useCallback(() => {\n        unregister();\n    }, []);\n\n    const updateTime = useMemo(() => {\n        const date = new Date(MetaData.updateTime);\n        const options = {\n            year: \"numeric\",\n            month: \"short\",\n            day: \"numeric\",\n            hour: \"numeric\",\n            minute: \"numeric\",\n            second: \"numeric\",\n            timeZoneName: \"short\",\n            hour12: false,\n        };\n        return new Intl.DateTimeFormat(prefState.lang, options).format(date);\n    }, [prefState.lang]);\n\n    const onLangChanged = useCallback(\n        (ev: React.ChangeEvent<HTMLSelectElement>) => {\n            prefDispatch({\n                type: \"lang\",\n                payload: ev.target.value,\n            });\n        },\n        [prefDispatch],\n    );\n\n    const onBuiltInAudioToggle = useCallback(\n        () =>\n            prefDispatch({\n                type: \"builtInAudio\",\n                payload: (prefState) => !prefState.builtInAudio,\n            }),\n        [prefDispatch],\n    );\n\n    const onScreenButtonToggle = useCallback(\n        () =>\n            prefDispatch({\n                type: \"screenButton\",\n                payload: (prefState) => !prefState.screenButton,\n            }),\n        [prefDispatch],\n    );\n\n    const onThemeModeChange = useCallback(\n        (ev: React.ChangeEvent<HTMLSelectElement>) => {\n            prefDispatch({\n                type: \"themeMode\",\n                payload: Number.parseInt(ev.target.value, 10) as ThemeMode,\n            });\n        },\n        [prefDispatch],\n    );\n\n    const onFixedChanged = useCallback(\n        (ev: React.ChangeEvent<HTMLSelectElement>) => {\n            prefDispatch({\n                type: \"fixed\",\n                payload: Number.parseInt(ev.target.value, 10) as Fixed,\n            });\n        },\n        [prefDispatch],\n    );\n\n    const LangOptionList = useMemo(() => {\n        return Object.entries(info.languages).map(([langCode, langName]) => {\n            return (\n                <option key={langCode} value={langCode}>\n                    {langName}\n                </option>\n            );\n        });\n    }, []);\n\n    const ColorPickerWall = useMemo(() => {\n        return Object.values(themeColor).map((color) => {\n            const checked = color === prefState.themeColor;\n            const classNames = [\"color-picker\", \"ripple\"];\n            if (checked) {\n                classNames.push(\"checked\");\n            }\n            return (\n                <label className={classNames.join(Const.space)} key={color} style={{ backgroundColor: color }}>\n                    <input\n                        hidden={true}\n                        type=\"radio\"\n                        name=\"theme-color\"\n                        value={color}\n                        checked={checked}\n                        onChange={onColorPick}\n                    />\n                </label>\n            );\n        });\n    }, [onColorPick, prefState.themeColor]);\n\n    const currentThemeColorStyle = useMemo(() => {\n        return {\n            backgroundColor: prefState.themeColor,\n        };\n    }, [prefState.themeColor]);\n\n    const formatedText = useMemo(() => {\n        return formatText(\"   hello   世界～   \", prefState.spaceStart, prefState.spaceEnd);\n    }, [prefState.spaceStart, prefState.spaceEnd]);\n\n    const userColorLabel = useRef<HTMLLabelElement>(null);\n    const userColorInput = useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n        if (userColorInput.current!.type === \"color\") {\n            userColorLabel.current!.removeAttribute(\"for\");\n        }\n    }, []);\n\n    return (\n        <div className=\"preferences\">\n            <ul>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.version}</span>\n                        <span className=\"select-all\">{MetaData.version}</span>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.commitHash}</span>\n                        <span className=\"select-all\">{MetaData.hash}</span>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.updateTime}</span>\n                        <span>{updateTime}</span>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.repo}</span>\n                        <a className=\"link\" href={Repo.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                            Github\n                        </a>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.help}</span>\n                        <a className=\"link\" href={Repo.wiki} target=\"_blank\" rel=\"noopener noreferrer\">\n                            Github Wiki\n                        </a>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.language}</span>\n                        <div className=\"option-select\">\n                            <select\n                                value={prefState.lang}\n                                onChange={onLangChanged}\n                                aria-label={lang.preferences.language}\n                            >\n                                {LangOptionList}\n                            </select>\n                        </div>\n                    </section>\n                </li>\n                <li>\n                    <label className=\"list-item\">\n                        <span>{lang.preferences.builtInAudio}</span>\n                        <label className=\"toggle-switch\">\n                            <input\n                                type=\"checkbox\"\n                                checked={prefState.builtInAudio}\n                                onChange={onBuiltInAudioToggle}\n                                aria-label={lang.preferences.builtInAudio}\n                            />\n                            <span className=\"toggle-switch-label\" />\n                        </label>\n                    </label>\n                </li>\n                <li>\n                    <label className=\"list-item\">\n                        <span>{lang.preferences.spaceButton}</span>\n                        <label className=\"toggle-switch\">\n                            <input\n                                type=\"checkbox\"\n                                checked={prefState.screenButton}\n                                onChange={onScreenButtonToggle}\n                                aria-label={lang.preferences.spaceButton}\n                            />\n                            <span className=\"toggle-switch-label\" />\n                        </label>\n                    </label>\n                </li>\n\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.themeMode.label}</span>\n                        <div className=\"option-select\">\n                            <select\n                                name=\"theme-mode\"\n                                value={prefState.themeMode}\n                                onChange={onThemeModeChange}\n                                aria-label={lang.preferences.themeMode.label}\n                            >\n                                <option value={ThemeMode.auto}>{lang.preferences.themeMode.auto}</option>\n                                <option value={ThemeMode.light}>{lang.preferences.themeMode.light}</option>\n                                <option value={ThemeMode.dark}>{lang.preferences.themeMode.dark}</option>\n                            </select>\n                        </div>\n                    </section>\n                </li>\n\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.themeColor}</span>\n                        <details className=\"dropdown\">\n                            <summary>\n                                <span className=\"color-picker ripple hash\" style={currentThemeColorStyle}>\n                                    {\"#\"}\n                                </span>\n                                <span className=\"current-theme-color\">{prefState.themeColor.slice(1)}</span>\n                            </summary>\n                            <form className=\"dropdown-body color-wall\" onSubmit={onColorSubmit}>\n                                {ColorPickerWall}\n                                <label\n                                    className=\"color-picker ripple user-color-label hash\"\n                                    htmlFor=\"user-color-input-text\"\n                                    style={currentThemeColorStyle}\n                                    ref={userColorLabel}\n                                >\n                                    {\"#\"}\n                                    <input\n                                        type=\"color\"\n                                        className=\"color-picker pseudo-hidden\"\n                                        value={prefState.themeColor}\n                                        onChange={onColorPick}\n                                        ref={userColorInput}\n                                    />\n                                </label>\n                                <input\n                                    ref={userColorInputText}\n                                    id=\"user-color-input-text\"\n                                    name=\"user-color-input-text\"\n                                    className=\"user-color-input-text\"\n                                    type=\"text\"\n                                    pattern=\"[\\da-f]{3,6}\"\n                                    required={true}\n                                    autoCapitalize=\"none\"\n                                    autoComplete=\"off\"\n                                    autoCorrect=\"off\"\n                                    spellCheck={false}\n                                    defaultValue={prefState.themeColor.slice(1)}\n                                    onBlur={onUserColorInputBlur}\n                                />\n                            </form>\n                        </details>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.lrcFormat}</span>\n                        <span>\n                            <time className=\"format-example-time\">{convertTimeToTag(83.456, prefState.fixed)}</time>\n                            <span className=\"format-example-text\">{formatedText}</span>\n                        </span>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.fixed}</span>\n                        <div className=\"option-select\">\n                            <select\n                                name=\"fixed\"\n                                value={prefState.fixed}\n                                onChange={onFixedChanged}\n                                aria-label={lang.preferences.lrcFormat}\n                            >\n                                <option value={0}>0</option>\n                                <option value={1}>1</option>\n                                <option value={2}>2</option>\n                                <option value={3}>3</option>\n                            </select>\n                        </div>\n                    </section>\n                </li>\n                <li>\n                    <label className=\"list-item\">\n                        <label htmlFor=\"space-start\">{lang.preferences.leftSpace}</label>\n                        <input\n                            name=\"spaceStart\"\n                            id=\"space-start\"\n                            required={true}\n                            min={-1}\n                            {...useNumberInput(prefState.spaceStart, onSpaceChange)}\n                        />\n                    </label>\n                </li>\n                <li>\n                    <label className=\"list-item\">\n                        <label htmlFor=\"space-end\">{lang.preferences.rightSpace}</label>\n                        <input\n                            name=\"spaceEnd\"\n                            id=\"space-end\"\n                            required={true}\n                            min={-1}\n                            {...useNumberInput(prefState.spaceEnd, onSpaceChange)}\n                        />\n                    </label>\n                </li>\n                <li className=\"ripple\" onTransitionEnd={onCacheClear}>\n                    <section className=\"list-item\">{lang.preferences.clearCache}</section>\n                </li>\n            </ul>\n            <AkariHideWall />\n        </div>\n    );\n};\n","export const unregister = async () => {\n    const APP_NAME = \"akari-lrc-maker\";\n\n    if (\"serviceWorker\" in navigator) {\n        await caches.keys().then((cacheNames) => {\n            return Promise.all(\n                cacheNames\n                    .filter((cacheName) => {\n                        return cacheName.startsWith(APP_NAME);\n                    })\n                    .map((cacheName) => {\n                        return caches.delete(cacheName);\n                    }),\n            );\n        });\n\n        await navigator.serviceWorker.getRegistration().then((registration) => {\n            if (registration) {\n                registration.unregister().then(() => {\n                    location.reload(true);\n                });\n            }\n        });\n    }\n};\n","export const AkariHideWall: React.FC = () => {\n    return (\n        <img className=\"akari-hide-wall\" alt=\"akari-hide-wall\" src={MetaData.akariHideWall} crossOrigin=\"anonymous\" />\n    );\n};\n\nexport const AkariNotFound: React.FC = () => {\n    return <img className=\"akari-not-found\" alt=\"not found\" src={MetaData.akariNotFound} crossOrigin=\"anonymous\" />;\n};\n\nexport const AkariOangoLoading: React.FC = () => {\n    return (\n        <img\n            className=\"akari-odango-loading start-loading\"\n            alt=\"loading\"\n            src={MetaData.akariOdangoLoading}\n            crossOrigin=\"anonymous\"\n        />\n    );\n};\n","export const HomeSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z\" />\n    </svg>\n);\n\nexport const EditorSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\" />\n    </svg>\n);\n\nexport const SynchronizerSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n        <path d=\"M4 21h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 9.21v5.59c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.8a.5.5 0 0 0-.85.36zM8.6 17H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1zm5.6 5H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1zm0 4H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1z\" />\n    </svg>\n);\n\nexport const CloudSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z\" />\n    </svg>\n);\n\nexport const PreferencesSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M19.44 12.99l-.01.02c.04-.33.08-.67.08-1.01 0-.34-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99 0 .34.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26l-2.11-1.66zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z\" />\n    </svg>\n);\n\nexport const PlaySVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z\" />\n    </svg>\n);\n\nexport const PauseSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z\" />\n    </svg>\n);\n\nexport const Replay5sSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.26-2.14 3.99-4.39 4.53-3.64.88-6.93-1.6-7.42-4.96-.06-.49-.48-.86-.97-.86-.6 0-1.08.53-1 1.13.63 4.47 4.94 7.75 9.77 6.67 3.09-.69 5.39-3.08 5.99-6.19C20.84 9.48 16.94 5 12 5zm-1.31 8.9l.25-2.17h2.39v.71h-1.7l-.11.92c.03-.02.07-.03.11-.05s.09-.04.15-.05.12-.03.18-.04.13-.02.2-.02c.21 0 .39.03.55.1s.3.16.41.28.2.27.25.45.09.38.09.6c0 .19-.03.37-.09.54s-.15.32-.27.45-.27.24-.45.31-.39.12-.64.12c-.18 0-.36-.03-.53-.08s-.32-.14-.46-.24-.24-.24-.32-.39-.13-.33-.13-.53h.84c.02.18.08.32.19.41s.25.15.42.15c.11 0 .2-.02.27-.06s.14-.1.18-.17.08-.15.11-.25.03-.2.03-.31-.01-.21-.04-.31-.07-.17-.13-.24-.13-.12-.21-.15-.19-.05-.3-.05c-.08 0-.15.01-.2.02s-.11.03-.15.05-.08.05-.12.07-.07.06-.1.09l-.67-.16z\" />\n    </svg>\n);\n\nexport const Forward5sSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M18.87 13c-.5 0-.91.37-.98.86-.48 3.37-3.77 5.84-7.42 4.96-2.25-.54-3.91-2.27-4.39-4.53C5.27 10.42 8.22 7 11.95 7v2.79c0 .45.54.67.85.35l3.79-3.79c.2-.2.2-.51 0-.71L12.8 1.85c-.31-.31-.85-.09-.85.35V5c-4.94 0-8.84 4.48-7.84 9.6.6 3.11 2.9 5.5 5.99 6.19 4.83 1.08 9.15-2.2 9.77-6.67.09-.59-.4-1.12-1-1.12zm-6.44 2.15c-.05.07-.11.13-.18.17s-.17.06-.27.06c-.17 0-.31-.05-.42-.15s-.17-.24-.19-.41h-.84c.01.2.05.37.13.53s.19.28.32.39.29.19.46.24.35.08.53.08c.24 0 .46-.04.64-.12s.33-.18.45-.31.21-.28.27-.45.09-.35.09-.54c0-.22-.03-.43-.09-.6s-.14-.33-.25-.45-.25-.22-.41-.28-.34-.1-.55-.1c-.07 0-.14.01-.2.02s-.13.02-.18.04-.1.03-.15.05-.08.04-.11.05l.11-.92h1.7v-.71H10.9l-.25 2.17.67.17c.03-.03.06-.06.1-.09s.07-.05.12-.07.1-.04.15-.05.13-.02.2-.02c.12 0 .22.02.3.05s.16.09.21.15.1.14.13.24.04.19.04.31-.01.22-.03.31-.06.17-.11.24z\" />\n    </svg>\n);\n\nexport const LoadAudioSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H5V8h14v10h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7.35 6.35l-2.79 2.79c-.32.32-.1.86.35.86H11v5c0 .55.45 1 1 1s1-.45 1-1v-5h1.79c.45 0 .67-.54.35-.85l-2.79-2.79c-.19-.2-.51-.2-.7-.01z\" />\n    </svg>\n);\n\nexport const CloseSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path\n            opacity=\".3\"\n            d=\"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm4 10.59L14.59 16 12 13.41 9.41 16 8 14.59 10.59 12 8 9.41 9.41 8 12 10.59 14.59 8 16 9.41 13.41 12 16 14.59z\"\n        />\n        <path d=\"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n    </svg>\n);\n\nexport const DownloadSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M19 13v5c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1v-5c0-.55-.45-1-1-1s-1 .45-1 1v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1zm-6-.33l1.88-1.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-3.59 3.59c-.39.39-1.02.39-1.41 0L7.7 12.2c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L11 12.67V4c0-.55.45-1 1-1s1 .45 1 1v8.67z\" />\n    </svg>\n);\n\nexport const LockSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path\n            className=\"lock-open\"\n            d=\"M12 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6-5h-1V6c0-2.76-2.24-5-5-5-2.28 0-4.27 1.54-4.84 3.75-.14.54.18 1.08.72 1.22.53.14 1.08-.18 1.22-.72C9.44 3.93 10.63 3 12 3c1.65 0 3 1.35 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 11c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-8c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v8z\"\n        />\n        <path\n            className=\"lock-close\"\n            d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z\"\n        />\n    </svg>\n);\n\nexport const CopySVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z\" />\n    </svg>\n);\n\nexport const OpenFileSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M9.17 6l2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\" />\n    </svg>\n);\n\nexport const CloudUploadSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z\" />\n    </svg>\n);\n\nexport const GithubSVG: React.FC = () => (\n    <svg className=\"github-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 16 16\">\n        <path d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\" />\n    </svg>\n);\n\nexport const CheckSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z\" />\n    </svg>\n);\n\nexport const InfoSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z\" />\n    </svg>\n);\n\nexport const ProblemSVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M2.73 21h18.53c.77 0 1.25-.83.87-1.5l-9.27-16c-.39-.67-1.35-.67-1.73 0l-9.27 16c-.38.67.1 1.5.87 1.5zM13 18h-2v-2h2v2zm-1-4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1z\" />\n    </svg>\n);\n\nexport const UtilitySVG: React.FC = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n        <path d=\"M8.2 10.5c-.4-.3-1-.5-1.5-.4 0 0-3.6-3-4.3-4.3-.5-1-.6-2.8 0-3.4.6-.6 2.4-.5 3.4 0C7 3.1 10 6.7 10 6.7c0 .6 0 1.1.4 1.6l-2.3 2.2zM18.7 17.8l.3-.2 1 .9 2 3-.5.5-3-1.9-1-1.1.3-.3L14 15l1-1 3.7 3.9z\" />\n        <path d=\"M13.2 7.8c-.5-1.6 0-3.3 1.1-4.5a4.5 4.5 0 0 1 4.4-1.1L16 4.7l.7 2.5 2.5.7 2.5-2.5c.4 1.5 0 3.1-1.1 4.3a4.5 4.5 0 0 1-4.6 1.1L5.6 21.4a2.1 2.1 0 0 1-3 0c-.8-.8-.8-2.2 0-3L13.2 7.8zM3.9 21c.5 0 .8-.3.8-.8a.8.8 0 1 0-1.6 0c0 .5.4.8.8.8z\" />\n    </svg>\n);\n","import { Action, ActionType } from \"../hooks/useLrc.js\";\nimport { State as PrefState } from \"../hooks/usePref.js\";\nimport { stringify } from \"../lrc-parser.js\";\nimport { lrcFileName } from \"../utils/lrc-file-name.js\";\nimport { DownloadSVG, LockSVG } from \"./svg.js\";\nimport { SyncMode } from \"./synchronizer.js\";\n\nconst { useState, useCallback } = React;\n\nexport const AsidePanel: React.FC<{\n    syncMode: SyncMode;\n    setSyncMode: React.Dispatch<React.SetStateAction<SyncMode>>;\n    lrcDispatch: React.Dispatch<Action>;\n    prefState: PrefState;\n}> = React.memo(({ syncMode, setSyncMode, lrcDispatch, prefState }) => {\n    const [href, setHref] = useState<string>();\n    const [name, setName] = useState<string>();\n\n    const onSyncModeToggle = useCallback(() => {\n        setSyncMode((syncMode) => (syncMode === SyncMode.select ? SyncMode.highlight : SyncMode.select));\n    }, [setSyncMode]);\n\n    const onDownloadClick = useCallback(() => {\n        lrcDispatch({\n            type: ActionType.getState,\n            payload: (state) => {\n                const text = stringify(state, prefState);\n                setHref((url) => {\n                    if (url) {\n                        URL.revokeObjectURL(url);\n                    }\n\n                    return URL.createObjectURL(\n                        new Blob([text], {\n                            type: \"text/plain;charset=UTF-8\",\n                        }),\n                    );\n                });\n\n                setName(lrcFileName(state.info));\n            },\n        });\n    }, [lrcDispatch, prefState]);\n\n    const mode = syncMode === SyncMode.select ? \"select\" : \"highlight\";\n\n    const className = [\"aside-button\", \"syncmode-button\", \"ripple\", \"glow \", mode].join(Const.space);\n\n    return (\n        <aside className=\"aside-panel\">\n            <button className={className} onClick={onSyncModeToggle} aria-label={`${mode} mode`}>\n                <LockSVG />\n            </button>\n            <a href={href} download={name} className=\"aside-button ripple glow\" onClick={onDownloadClick}>\n                <DownloadSVG />\n            </a>\n        </aside>\n    );\n});\n\nAsidePanel.displayName = AsidePanel.name;\n","import { convertTimeToTag } from \"../lrc-parser.js\";\nimport { AudioActionType, audioRef, audioStatePubSub, currentTimePubSub } from \"../utils/audiomodule.js\";\n\nconst { useState, useEffect, useRef } = React;\n\ninterface ICurserProps {\n    fixed: Fixed;\n}\n\nexport const Curser: React.FC<ICurserProps> = ({ fixed }) => {\n    const self = useRef(Symbol(Curser.name));\n\n    const [time, setTime] = useState(audioRef.currentTime);\n    const [paused, setPaused] = useState(audioRef.paused);\n    const [rate, setRate] = useState(audioRef.playbackRate);\n\n    useEffect(() => {\n        return audioStatePubSub.sub(self.current, (data) => {\n            switch (data.type) {\n                case AudioActionType.pause: {\n                    setPaused(data.payload);\n                    break;\n                }\n                case AudioActionType.rateChange: {\n                    setRate(data.payload);\n                    break;\n                }\n            }\n        });\n    }, []);\n\n    useEffect(() => {\n        //\n        // Nyquist–Shannon sampling theorem\n        //\n        // If a function x(t) contains no frequencies higher than B hertz,\n        // it is completely determined by giving its ordinates at a series\n        // of points spaced 1/(2B) seconds apart.\n        //\n\n        const B = [1, 10, 100, 1000][fixed] * rate;\n\n        if (paused || 2 * B > 60 /** 60fps */) {\n            return currentTimePubSub.sub(self.current, (date) => {\n                setTime(date);\n            });\n        } else {\n            const id = setInterval(() => {\n                setTime(audioRef.currentTime);\n            }, 1000 / (2 * B));\n\n            return (): void => {\n                clearInterval(id);\n            };\n        }\n    }, [fixed, paused, rate]);\n\n    return <time className=\"curser\">{convertTimeToTag(time, fixed)}</time>;\n};\n","import { Action, ActionType, guard, IState } from \"../hooks/useLrc.js\";\nimport { State as PrefState } from \"../hooks/usePref.js\";\nimport { convertTimeToTag, formatText, ILyric } from \"../lrc-parser.js\";\nimport { audioRef, currentTimePubSub } from \"../utils/audiomodule.js\";\nimport { isKeyboardElement } from \"../utils/is-keyboard-element.js\";\nimport { appContext } from \"./app.context.js\";\nimport { AsidePanel } from \"./asidepanel.js\";\nimport { Curser } from \"./curser.js\";\n\nconst { useCallback, useContext, useEffect, useRef, useState } = React;\n\nconst SpaceButton: React.FC<{ sync: () => void }> = ({ sync }) => {\n    return (\n        <button className=\"space-button\" onClick={sync}>\n            space\n        </button>\n    );\n};\n\nexport const enum SyncMode {\n    select,\n    highlight,\n}\n\ninterface ISynchronizerProps {\n    state: IState;\n    dispatch: React.Dispatch<Action>;\n}\n\nexport const Synchronizer: React.FC<ISynchronizerProps> = ({ state, dispatch }) => {\n    const self = useRef(Symbol(Synchronizer.name));\n\n    const { selectIndex, currentIndex: highlightIndex } = state;\n\n    const { prefState, lang } = useContext(appContext);\n\n    useEffect(() => {\n        dispatch({\n            type: ActionType.info,\n            payload: {\n                name: \"tool\",\n                value: `${lang.app.name} https://lrc-maker.github.io`,\n            },\n        });\n    }, [dispatch, lang]);\n\n    const [syncMode, setSyncMode] = useState(() =>\n        sessionStorage.getItem(SSK.syncMode) === SyncMode.highlight.toString() ? SyncMode.highlight : SyncMode.select,\n    );\n\n    useEffect(() => {\n        sessionStorage.setItem(SSK.syncMode, syncMode.toString());\n    }, [syncMode]);\n\n    const ul = useRef<HTMLUListElement>(null);\n\n    const needScrollLine = {\n        [SyncMode.select]: selectIndex,\n        [SyncMode.highlight]: highlightIndex,\n    }[syncMode];\n\n    useEffect(() => {\n        const line = ul.current?.children[needScrollLine];\n        if (line !== undefined) {\n            line.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"center\",\n                inline: \"center\",\n            });\n        }\n    }, [needScrollLine]);\n\n    useEffect(() => {\n        return currentTimePubSub.sub(self.current, (time) => {\n            dispatch({ type: ActionType.refresh, payload: time });\n        });\n    }, [dispatch]);\n\n    const sync = useCallback(() => {\n        if (!audioRef.duration) {\n            return;\n        }\n\n        dispatch({\n            type: ActionType.sync,\n            payload: audioRef.currentTime,\n        });\n    }, [dispatch]);\n\n    useEffect(() => {\n        const listener = (ev: KeyboardEvent): void => {\n            const { code, key, target } = ev;\n\n            const codeOrKey = code || key;\n\n            if (isKeyboardElement(target)) {\n                return;\n            }\n\n            if (codeOrKey === \"Backspace\" || codeOrKey === \"Delete\" || codeOrKey === \"Del\") {\n                ev.preventDefault();\n                dispatch({\n                    type: ActionType.deleteTime,\n                    payload: undefined,\n                });\n                return;\n            }\n\n            if (ev.metaKey === true || ev.ctrlKey === true) {\n                return;\n            }\n\n            if (code === \"Space\" || key === \" \" || key === \"Spacebar\") {\n                ev.preventDefault();\n\n                sync();\n            } else if ([\"ArrowUp\", \"KeyW\", \"KeyJ\", \"Up\", \"W\", \"w\", \"J\", \"j\"].includes(codeOrKey)) {\n                ev.preventDefault();\n\n                dispatch({ type: ActionType.select, payload: (index) => index - 1 });\n            } else if ([\"ArrowDown\", \"KeyS\", \"KeyK\", \"Down\", \"S\", \"s\", \"K\", \"k\"].includes(codeOrKey)) {\n                ev.preventDefault();\n\n                dispatch({ type: ActionType.select, payload: (index) => index + 1 });\n            } else if (codeOrKey === \"Home\") {\n                ev.preventDefault();\n\n                dispatch({ type: ActionType.select, payload: () => 0 });\n            } else if (codeOrKey === \"End\") {\n                ev.preventDefault();\n\n                dispatch({ type: ActionType.select, payload: () => Infinity });\n            } else if (codeOrKey === \"PageUp\") {\n                ev.preventDefault();\n\n                dispatch({ type: ActionType.select, payload: (index) => index - 10 });\n            } else if (codeOrKey === \"PageDown\") {\n                ev.preventDefault();\n\n                dispatch({ type: ActionType.select, payload: (index) => index + 10 });\n            }\n        };\n\n        document.addEventListener(\"keydown\", listener);\n\n        return (): void => {\n            document.removeEventListener(\"keydown\", listener);\n        };\n    }, [dispatch, sync]);\n\n    const onLineClick = useCallback(\n        (ev: React.MouseEvent<HTMLUListElement & HTMLLIElement>) => {\n            ev.stopPropagation();\n\n            const target = ev.target as HTMLElement;\n\n            if (target.classList.contains(\"line\")) {\n                const lineKey = Number.parseInt(target.dataset.key!, 10) || 0;\n\n                dispatch({ type: ActionType.select, payload: () => lineKey });\n            }\n        },\n        [dispatch],\n    );\n\n    const onLineDoubleClick = useCallback(\n        (ev: React.MouseEvent<HTMLUListElement | HTMLLIElement>) => {\n            ev.stopPropagation();\n\n            if (!audioRef.duration) {\n                return;\n            }\n\n            const target = ev.target as HTMLElement;\n\n            if (target.classList.contains(\"line\")) {\n                const key = Number.parseInt(target.dataset.key!, 10);\n\n                dispatch({\n                    type: ActionType.getState,\n                    payload: ({ lyric }) => {\n                        const time = lyric[key].time;\n                        if (time !== undefined) {\n                            audioRef.currentTime = guard(time, 0, audioRef.duration);\n                        }\n                    },\n                });\n            }\n        },\n        [dispatch],\n    );\n\n    const LyricLineIter = useCallback(\n        (line: Readonly<ILyric>, index: number, lines: readonly ILyric[]) => {\n            const select = index === selectIndex;\n            const highlight = index === highlightIndex;\n            const error = index > 0 && lines[index].time! <= lines[index - 1].time!;\n\n            const className = Object.entries({\n                line: true,\n                select,\n                highlight,\n                error,\n            })\n                .reduce((p, [name, value]) => {\n                    if (value) {\n                        p.push(name);\n                    }\n                    return p;\n                }, [] as string[])\n                .join(Const.space);\n\n            return (\n                <LyricLine\n                    key={index}\n                    index={index}\n                    className={className}\n                    line={line}\n                    select={select}\n                    prefState={prefState}\n                />\n            );\n        },\n        [selectIndex, highlightIndex, prefState],\n    );\n\n    const ulClassName = prefState.screenButton ? \"lyric-list on-screen-button\" : \"lyric-list\";\n\n    return (\n        <>\n            <ul ref={ul} className={ulClassName} onClickCapture={onLineClick} onDoubleClickCapture={onLineDoubleClick}>\n                {state.lyric.map(LyricLineIter)}\n            </ul>\n            <AsidePanel syncMode={syncMode} setSyncMode={setSyncMode} lrcDispatch={dispatch} prefState={prefState} />\n            {prefState.screenButton && <SpaceButton sync={sync} />}\n        </>\n    );\n};\n\ninterface ILyricLineProps {\n    line: ILyric;\n    index: number;\n    select: boolean;\n    className: string;\n    prefState: PrefState;\n}\n\nconst LyricLine: React.FC<ILyricLineProps> = ({ line, index, select, className, prefState }) => {\n    const lineTime = convertTimeToTag(line.time, prefState.fixed);\n\n    const lineText = formatText(line.text, prefState.spaceStart, prefState.spaceEnd);\n\n    return (\n        <li key={index} data-key={index} className={className}>\n            {select && <Curser fixed={prefState.fixed} />}\n            <time className=\"line-time\">{lineTime}</time>\n            <span className=\"line-text\">{lineText}</span>\n        </li>\n    );\n};\n","import { createPubSub } from \"../utils/pubsub.js\";\nimport { CheckSVG, InfoSVG, ProblemSVG } from \"./svg.js\";\n\ntype MessageType = \"info\" | \"success\" | \"warning\";\n\ninterface IMessage {\n    type: MessageType;\n    text: string;\n}\n\nexport const toastPubSub = createPubSub<IMessage>();\n\nconst { useCallback, useEffect, useRef, useState } = React;\n\nconst box = { id: 0 };\n\nexport const Toast: React.FC = () => {\n    const self = useRef(Symbol(Toast.name));\n\n    interface IToast extends IMessage {\n        id: number;\n    }\n\n    const [toastQueue, setToastQueue] = useState<IToast[]>([]);\n\n    useEffect(() => {\n        toastPubSub.sub(self.current, (data) => {\n            setToastQueue((queue) => [{ id: box.id++, ...data }, ...queue]);\n        });\n    }, []);\n\n    const onAnimationEnd = useCallback((ev: React.AnimationEvent<HTMLElement>) => {\n        if (ev.animationName === \"slideOutRight\") {\n            setToastQueue((queue) => queue.slice(0, -1));\n        }\n    }, []);\n\n    const ToastIter = useCallback((toast: IToast) => {\n        const badge = {\n            info: <InfoSVG />,\n            success: <CheckSVG />,\n            warning: <ProblemSVG />,\n        }[toast.type];\n\n        return (\n            <section className=\"toast\" key={toast.id}>\n                <section className={`toast-badge toast-${toast.type}`}>{badge}</section>\n                <section className=\"toast-text\">{toast.text}</section>\n            </section>\n        );\n    }, []);\n\n    return (\n        <div className=\"toast-queue\" onAnimationEnd={onAnimationEnd}>\n            {toastQueue.map(ToastIter)}\n        </div>\n    );\n};\n","import { parser, State as LrcState, TrimOptios } from \"../lrc-parser.js\";\n\ntype InitArgs = Readonly<{\n    text: string;\n    options: TrimOptios;\n    select: number;\n}>;\n\nexport const enum ActionType {\n    parse,\n    refresh,\n    sync,\n    info,\n    select,\n    deleteTime,\n    getState,\n}\n\nexport interface IState extends LrcState {\n    readonly currentTime: number;\n    readonly currentIndex: number;\n    readonly nextTime: number;\n    readonly nextIndex: number;\n    readonly selectIndex: number;\n}\n\ntype Map$Type$Payload<T, U> = { [key in keyof T]: U extends key ? { type: key; payload: T[key] } : never }[keyof T];\n\nexport type Action = Map$Type$Payload<\n    {\n        [ActionType.parse]: { text: string; options: TrimOptios };\n        [ActionType.refresh]: number;\n        [ActionType.sync]: number;\n        [ActionType.info]: { name: string; value: string };\n        [ActionType.select]: (index: number) => number;\n        [ActionType.deleteTime]: undefined;\n        [ActionType.getState]: (state: IState) => void;\n    },\n    ActionType\n>;\n\nexport const guard = (value: number, min: number, max: number): number => {\n    if (value < min) {\n        return min;\n    }\n    if (value > max) {\n        return max;\n    }\n    return value;\n};\n\nconst mergeObject = <T extends O, O>(target: T, obj: O): T => {\n    for (const i in obj) {\n        if (target[i] !== obj[i]) {\n            return { ...target, ...obj };\n        }\n    }\n\n    return target;\n};\n\nconst reducer = (state: IState, action: Action): IState => {\n    switch (action.type) {\n        case ActionType.parse: {\n            const { text, options } = action.payload;\n            const lrc = parser(text, options);\n            const selectIndex = guard(state.selectIndex, 0, lrc.lyric.length - 1);\n            return { ...state, ...lrc, selectIndex };\n        }\n\n        case ActionType.refresh: {\n            const audioTime = action.payload;\n            if (audioTime >= state.currentTime && audioTime < state.nextTime) {\n                return state;\n            }\n\n            const record = state.lyric.reduce(\n                (p, c, i) => {\n                    if (c.time) {\n                        if (c.time < p.nextTime && c.time > audioTime) {\n                            p.nextTime = c.time;\n                            p.nextIndex = i;\n                        }\n                        if (c.time > p.currentTime && c.time <= audioTime) {\n                            p.currentTime = c.time;\n                            p.currentIndex = i;\n                        }\n                    }\n                    return p;\n                },\n                {\n                    currentTime: -Infinity,\n                    currentIndex: -Infinity,\n                    nextTime: Infinity,\n                    nextIndex: Infinity,\n                },\n            );\n\n            return mergeObject(state, record);\n        }\n\n        case ActionType.sync: {\n            const time = action.payload;\n            const index = state.selectIndex;\n\n            let lyric = state.lyric;\n            if (lyric[index].time !== time) {\n                const newLyric = lyric.slice();\n                newLyric[index] = { text: lyric[index].text, time };\n                lyric = newLyric;\n            }\n\n            const selectIndex = guard(index + 1, 0, lyric.length - 1);\n\n            return { ...state, lyric, selectIndex, currentTime: time, nextTime: -Infinity };\n        }\n\n        case ActionType.info: {\n            const { name, value } = action.payload;\n\n            const info = new Map(state.info);\n            if (value.trim() === \"\") {\n                info.delete(name);\n            } else {\n                info.set(name, value.trim());\n            }\n\n            return {\n                ...state,\n                info,\n            };\n        }\n\n        case ActionType.select: {\n            const selectIndex = guard(action.payload(state.selectIndex), 0, state.lyric.length - 1);\n            return state.selectIndex === selectIndex ? state : { ...state, selectIndex };\n        }\n\n        case ActionType.deleteTime: {\n            const { selectIndex, currentIndex } = state;\n\n            let lyric = state.lyric;\n            if (lyric[selectIndex].time !== undefined) {\n                const newLyric = lyric.slice();\n                newLyric[selectIndex] = { text: lyric[selectIndex].text };\n                lyric = newLyric;\n\n                let { currentTime, nextTime } = state;\n                if (selectIndex === currentIndex) {\n                    currentTime = Infinity;\n                    nextTime = -Infinity;\n                }\n\n                return {\n                    ...state,\n                    lyric,\n                    currentTime,\n                    nextTime,\n                };\n            }\n\n            return state;\n        }\n\n        case ActionType.getState: {\n            action.payload(state);\n            return state;\n        }\n    }\n\n    return state;\n};\n\nconst init = (lazyInit: () => InitArgs): IState => {\n    const { text, options, select } = lazyInit();\n    return {\n        ...parser(text, options),\n        currentTime: Infinity,\n        currentIndex: Infinity,\n        nextTime: -Infinity,\n        nextIndex: -Infinity,\n        selectIndex: select,\n    };\n};\n\nexport const useLrc = (lazyInit: () => InitArgs): [IState, React.Dispatch<Action>] =>\n    React.useReducer(reducer, lazyInit, init);\n","export const info: {\n    languages: { [name: string]: string };\n} = JSON.parse(document.getElementById(\"app-info\")!.textContent!);\n\nexport const themeColor = {\n    orange: \"#ff691f\",\n    yellow: \"#fab81e\",\n    lime: \"#7fdbb6\",\n    green: \"#19cf86\",\n    blue: \"#91d2fa\",\n    navy: \"#1b95e0\",\n    grey: \"#abb8c2\",\n    red: \"#e81c4f\",\n    pink: \"#f58ea8\",\n    purple: \"#c877fe\",\n};\n\nexport const enum ThemeMode {\n    auto,\n    light,\n    dark,\n}\n\nconst initState = {\n    lang: \"en-US\",\n    spaceStart: 1,\n    spaceEnd: 0,\n    fixed: 3 as Fixed,\n    builtInAudio: false,\n    screenButton: false,\n    themeColor: themeColor.pink,\n    themeMode: ThemeMode.auto,\n};\n\nexport type State = Readonly<typeof initState>;\n\nexport type Action = {\n    [key in keyof State]: { type: key; payload: State[key] | ((state: State) => State[key]) };\n}[keyof State];\n\nconst reducer = (state: State, action: Action): State => {\n    const payload = action.payload;\n    return {\n        ...state,\n        [action.type]: typeof payload === \"function\" ? payload(state) : payload,\n    };\n};\n\nconst init = (lazyInit: () => string): State => {\n    const state: Mutable<State> = initState;\n\n    const languages = navigator.languages || [navigator.language || \"en-US\"];\n\n    state.lang =\n        languages\n            .map((langCode) => {\n                if (langCode === \"zh\") {\n                    return \"zh-CN\";\n                }\n                if (langCode.startsWith(\"en\")) {\n                    return \"en-US\";\n                }\n                return langCode;\n            })\n            .find((langCode) => langCode in info.languages) || \"en-US\";\n\n    try {\n        const storedState: State = JSON.parse(lazyInit());\n        const validKeys = Object.keys(initState) as Array<keyof State>;\n        for (const key of validKeys) {\n            if (key in storedState) {\n                (state[key] as unknown) = storedState[key];\n            }\n        }\n    } catch (error) {\n        //\n    }\n    return state;\n};\n\nexport const usePref = (lazyInit: () => string): [State, React.Dispatch<Action>] =>\n    React.useReducer(reducer, lazyInit, init);\n","export const language = {\n    languageName: \"English\",\n\n    app: {\n        name: \"LRC Maker\",\n        fullname: \"Akari's LRC Maker\",\n    },\n\n    header: {\n        home: \"home\",\n        editor: \"editor\",\n        synchronizer: \"synchronizer\",\n        gist: \"Githu Gist\",\n        preferences: \"preferences\",\n    },\n\n    audio: {\n        loadAudio: \"load audio\",\n        play: \"play\",\n        pause: \"pause\",\n        replay5s: \"replay 5s\",\n        forward5s: \"forward 5s\",\n        resetRate: \"reset playback rate\",\n        error: [\n            \"audio error\",\n            \"audio aborted by user\",\n            \"audio network error\",\n            \"audio decoding error\",\n            \"audio not supported\",\n        ],\n    },\n\n    loadAudio: {\n        file: \"File\",\n        url: \"URL\",\n        loadFile: \"Click here or drop audio file in this page\",\n    },\n\n    home: {\n        tips: \"Tips\",\n        tipForLyricText: \"Navigate to the editor page and paste lyric text.\",\n        tipForUploadAudio: \"Click the bottom left button to load audio file.\",\n        tipForSynchronizer: \"Navigate to synchronizer page and make your lrc :)\",\n        tipTopLeft: \"Click here come back to this page\",\n        tipTopRight: \"Click here to navigate to other page\",\n        tipBottomLeft: \"load audio here, and control the audio\",\n        tipBottomRight: \"change the playback rate here\",\n    },\n\n    editor: {\n        metaInfo: \"meta info\",\n        album: \"album\",\n        title: \"title\",\n        artist: \"artist\",\n        uploadText: \"upload text\",\n        copyText: \"select all and copy\",\n        downloadText: \"download\",\n        saveToGist: \"save to Github Gist\",\n        saveFileName: \"Filename\",\n        utils: \"lrc utils\",\n    },\n\n    gist: {\n        newTokenTip: \"LRC Maker use Github Token to fetch and store data to Github Gist\",\n        newTokenButton: \"Generate a new Github Token\",\n        newGistTip: \"Create a new Gist repository or assign an existing Gist id\",\n        newGistRepoButton: \"Create a new Gist Repository\",\n        gistIdPlaceholder: \"Or assign an existing Gist id\",\n        info: \"info\",\n        clearTokenAndGist: \"Clear token and Gist id\",\n    },\n\n    preferences: {\n        version: \"Version\",\n        commitHash: \"Commit hash\",\n        updateTime: \"Update time\",\n        repo: \"Repository\",\n        help: \"Help & tips\",\n        language: \"Language\",\n        builtInAudio: \"Use browser built-in audio player\",\n        spaceButton: \"On-screen space key\",\n        themeColor: \"Theme color\",\n        lrcFormat: \"LRC formtat adjust\",\n        fixed: \"Timestamp fixed\",\n        leftSpace: \"Left space\",\n        rightSpace: \"Right space\",\n        clearCache: \"Clear caches\",\n        themeMode: {\n            label: \"Theme Mode\",\n            auto: \"auto\",\n            light: \"light\",\n            dark: \"dark\",\n        },\n    },\n\n    notify: {\n        audioLoaded: \"Audio loaded.\",\n    },\n};\n","export const language = {\n    languageName: \"日本語\",\n\n    app: {\n        name: \"歌詞スクロールちゃん\",\n        fullname: \"あかりの歌詞スクロールちゃん\",\n    },\n\n    header: {\n        home: \"ホームページ\",\n        editor: \"編集\",\n        synchronizer: \"同期\",\n        gist: \"Githu Gist\",\n        preferences: \"設定\",\n    },\n\n    audio: {\n        loadAudio: \"オーディオファイルを読み込む\",\n        play: \"再生\",\n        pause: \"停止\",\n        replay5s: \"5秒戻る\",\n        forward5s: \"5秒進む\",\n        resetRate: \"再生速度をリセット\",\n        error: [\n            \"オーディオエラー\",\n            \"オーディオダウンロードエラー\",\n            \"オーディオネットワークエラー\",\n            \"オーディオデコードエラー\",\n            \"ブラウザでサポートされていないオーディオ\",\n        ],\n    },\n\n    loadAudio: {\n        file: \"ファイル\",\n        url: \"URL\",\n        loadFile: \"ここをクリックするか、このページにオーディオファイルをドロップしてください\",\n    },\n\n    home: {\n        tips: \"プロンプト\",\n        tipForLyricText: \"編集ページに切り替えて歌詞のテキストを貼り付けます。\",\n        tipForUploadAudio: \"左下のボタンをクリックしてオーディオファイルをロードします。\",\n        tipForSynchronizer: \"同期ページに切り替えてスクロール歌詞を作り始めます〜\",\n        tipTopLeft: \"このヘルプページに戻るにはここをクリック\",\n        tipTopRight: \"ページを切り替えるにはここをクリック\",\n        tipBottomLeft: \"ここでオーディオをロードして再生を制御できます。\",\n        tipBottomRight: \"ここでは再生速度を変更できます\",\n    },\n\n    editor: {\n        metaInfo: \"メタ情報\",\n        album: \"アルバム\",\n        title: \"曲名\",\n        artist: \"アーティスト名\",\n        uploadText: \"テキストを読み込む\",\n        copyText: \"すべて選択してコピー\",\n        downloadText: \"ダウンロード\",\n        saveToGist: \"Github Gistに保存\",\n        saveFileName: \"ファイル名\",\n        utils: \"lrc utils\",\n    },\n\n    gist: {\n        newTokenTip: \"歌詞スクロールちゃんはGithub Gistにデータを取得して保存するためにGithubトークンを使用します\",\n        newTokenButton: \"新しいGithubトークンを生成する\",\n        newGistTip: \"新しいGistリポジトリを作成するか、既存のGist IDを割り当てます\",\n        newGistRepoButton: \"新しいGistリポジトリを作成する\",\n        gistIdPlaceholder: \"または既存のGist IDを割り当てる\",\n        info: \"情報\",\n        clearTokenAndGist: \"クリアトークンとGIST ID\",\n    },\n\n    preferences: {\n        version: \"バージョン\",\n        commitHash: \"Commit hash\",\n        updateTime: \"更新時間\",\n        repo: \"プロジェクトURL\",\n        help: \"について＆ヘルプ\",\n        language: \"言語(language)\",\n        builtInAudio: \"ブラウザ内蔵のオーディオプレーヤーを使用する\",\n        spaceButton: \"画面上のスペースキー\",\n        themeColor: \"テーマカラー\",\n        lrcFormat: \"歌詞出力フォーマット制御\",\n        fixed: \"タイムスタンプ小数点\",\n        leftSpace: \"左側のスペース\",\n        rightSpace: \"右側スペース\",\n        clearCache: \"キャッシュをクリア\",\n        themeMode: {\n            label: \"テーマモード\",\n            auto: \"自動\",\n            light: \"ライト\",\n            dark: \"ダーク\",\n        },\n    },\n\n    notify: {\n        audioLoaded: \"オーディオがロードされました\",\n    },\n};\n","export const language = {\n    languageName: \"한국어\",\n\n    app: {\n        name: \"LRC 메이커\",\n        fullname: \"Akari의 LRC 메이커\",\n    },\n\n    header: {\n        home: \"홈\",\n        editor: \"편집기\",\n        synchronizer: \"동기화\",\n        gist: \"Github Gist\",\n        preferences: \"설정\",\n    },\n\n    audio: {\n        loadAudio: \"음원 로드하기\",\n        play: \"재생\",\n        pause: \"일시 중지\",\n        replay5s: \"5초 뒤로 가기\",\n        forward5s: \"5초 건더 뛰기\",\n        resetRate: \"재생 속도 다시 설정\",\n        error: [\n            \"오디오 오류\",\n            \"사용자가 오디오를 중단됨\",\n            \"오디오 넷워크 오류\",\n            \"오디오 디코딩 오류\",\n            \"오디오 지원하지 앖습니다\",\n        ],\n    },\n\n    loadAudio: {\n        file: \"파일\",\n        url: \"링크\",\n        loadFile: \"여기로 파일 선택하기 또는 오디오 파일을 이 페이지에 드롭하기\",\n    },\n\n    home: {\n        tips: \"팁\",\n        tipForLyricText: \"편집기 페이지에 가사 텍스트를 붙여넣기.\",\n        tipForUploadAudio: \"왼쪽 하단에는 버튼 클릭하면 오디오 파일 로드하기.\",\n        tipForSynchronizer: \"동기화 페이기에 당신의 가사를 만드세요 :)\",\n        tipTopLeft: \"에기에 클릭하면  이 페이지 돌아와세요\",\n        tipTopRight: \"에기에 다른 페이지 탐색하세요\",\n        tipBottomLeft: \"여기에 오리오를 로드하고 제어하세요\",\n        tipBottomRight: \"여기에 재생 속도를 조정하세요\",\n    },\n\n    editor: {\n        metaInfo: \"메타 정보\",\n        album: \"앨범\",\n        title: \"트랙 이름\",\n        artist: \"아티스트\",\n        uploadText: \"텍스트 업로드\",\n        copyText: \"모두 선택 및 복사\",\n        downloadText: \"다운로드\",\n        saveToGist: \"GitHub Gist에 저장하기\",\n        saveFileName: \"파일 이름\",\n        utils: \"lrc 도구\",\n    },\n\n    gist: {\n        newTokenTip: \"LRC 메이커는 GitHub 토큰으로 GitHub Gist 에서 데이터를 접근하고 저장합니다\",\n        newTokenButton: \"새로운 GitHub 토큰 생성하기\",\n        newGistTip: \"Create a new Gist repository or assign an existing Gist id\",\n        newGistRepoButton: \"Create a new Gist Repository\",\n        gistIdPlaceholder: \"Or assign an existing Gist id\",\n        info: \"info\",\n        clearTokenAndGist: \"Clear token and Gist id\",\n    },\n\n    preferences: {\n        version: \"버전\",\n        commitHash: \"토밋 헤시\",\n        updateTime: \"업데이트 시간\",\n        repo: \"저장고\",\n        help: \"도움말 및 팁\",\n        language: \"언어(language)\",\n        builtInAudio: \"브라우저 빌트인 오디오 재생기 사용하기\",\n        spaceButton: \"온 스크린 스페이스 키\",\n        themeColor: \"모양색\",\n        lrcFormat: \"LRC 포멧 조정\",\n        fixed: \"타임 스템 고치됨\",\n        leftSpace: \"왼쪽 스페이스\",\n        rightSpace: \"오른쪽 스페이스\",\n        clearCache: \"캐시 제거\",\n        themeMode: {\n            label: \"모양 모드\",\n            auto: \"자동\",\n            light: \"라이트\",\n            dark: \"다크\",\n        },\n    },\n\n    notify: {\n        audioLoaded: \"음원 로드됨\",\n    },\n};\n","export const language = {\n    languageName: \"简体中文\",\n\n    app: {\n        name: \"歌词滚动姬\",\n        fullname: \"灯里的歌词滚动姬\",\n    },\n\n    header: {\n        home: \"主页\",\n        editor: \"编辑\",\n        synchronizer: \"打轴\",\n        gist: \"Githu Gist\",\n        preferences: \"设置\",\n    },\n\n    audio: {\n        loadAudio: \"加载音频\",\n        play: \"播放\",\n        pause: \"暂停\",\n        replay5s: \"后退 5 秒\",\n        forward5s: \"前进 5 秒\",\n        resetRate: \"重置播放速度\",\n        error: [\"音频错误\", \"音频请求被用户终止\", \"音频网络请求错误\", \"音频解码错误\", \"浏览器无法支持此音频格式\"],\n    },\n\n    loadAudio: {\n        file: \"文件\",\n        url: \"外链\",\n        loadFile: \"点击这里或直接拖放音频到这个页面\",\n    },\n\n    home: {\n        tips: \"提示\",\n        tipForLyricText: \"切换到编辑页面，粘贴歌词文本。\",\n        tipForUploadAudio: \"点击左下方按钮，载入音频文件。\",\n        tipForSynchronizer: \"切换到打轴页面，开始制作滚动歌词吧～\",\n        tipTopLeft: \"点击这里可以回到这个帮助页面\",\n        tipTopRight: \"点击这里切换页面\",\n        tipBottomLeft: \"这里可以加载音频，控制播放\",\n        tipBottomRight: \"这里可以调节播放速度\",\n    },\n\n    editor: {\n        metaInfo: \"元信息\",\n        album: \"所属专辑\",\n        title: \"歌曲名\",\n        artist: \"艺人名\",\n        uploadText: \"加载文本\",\n        copyText: \"全选复制\",\n        downloadText: \"下载\",\n        saveToGist: \"保存到 Github Gist\",\n        saveFileName: \"文件名\",\n        utils: \"实用工具\",\n    },\n\n    gist: {\n        newTokenTip: \"歌词滚动姬使用 Github Token 来存取 Github Gist 上的数据\",\n        newTokenButton: \"生成新的 Github Token\",\n        newGistTip: \"创建一个新的 Gist 仓库或指定一个已存在的 Gist id\",\n        newGistRepoButton: \"创建一个新的 Gist 仓库\",\n        gistIdPlaceholder: \"或指定一个已存在的 Gist id\",\n        info: \"信息\",\n        clearTokenAndGist: \"清除 Github Token 和 Gist id\",\n    },\n\n    preferences: {\n        version: \"版本\",\n        commitHash: \"Commit hash\",\n        updateTime: \"更新时间\",\n        repo: \"项目地址\",\n        help: \"关于 & 帮助\",\n        language: \"语言(language)\",\n        builtInAudio: \"使用浏览器内建音频播放器\",\n        spaceButton: \"启用虚拟空格键\",\n        themeColor: \"主题颜色\",\n        lrcFormat: \"歌词输出格式控制\",\n        fixed: \"时间标签小数点\",\n        leftSpace: \"左侧空格\",\n        rightSpace: \"右侧空格\",\n        clearCache: \"清除缓存\",\n        themeMode: {\n            label: \"主题模式\",\n            auto: \"跟随系统\",\n            light: \"亮色模式\",\n            dark: \"暗色模式\",\n        },\n    },\n\n    notify: {\n        audioLoaded: \"音频已载入\",\n    },\n};\n","export const language = {\n    languageName: \"繁體中文(香港)\",\n\n    app: {\n        name: \"歌詞滾動姬\",\n        fullname: \"小明的歌詞滾動姬\",\n    },\n\n    header: {\n        home: \"主頁\",\n        editor: \"編輯\",\n        synchronizer: \"同步\",\n        gist: \"Githu Gist\",\n        preferences: \"設定\",\n    },\n\n    audio: {\n        loadAudio: \"匯入音訊\",\n        play: \"播放\",\n        pause: \"暫停\",\n        replay5s: \"倒轉 5s\",\n        forward5s: \"快轉 5s\",\n        resetRate: \"重設播放速度\",\n        error: [\"音訊錯誤\", \"音訊請求被用戶終止\", \"音訊網絡請求錯誤\", \"音訊解碼錯誤\", \"瀏覽器無法支援此音訊格式\"],\n    },\n\n    loadAudio: {\n        file: \"檔案\",\n        url: \"URL\",\n        loadFile: \"點選這裏或直接拖放音訊檔案到這個頁面\",\n    },\n\n    home: {\n        tips: \"提示\",\n        tipForLyricText: \"切換到編輯頁面，黏貼歌詞文本。\",\n        tipForUploadAudio: \"點選左下方按鈕，匯入音訊檔案。\",\n        tipForSynchronizer: \"切換到同步頁面，開始製作滾動歌詞吧～\",\n        tipTopLeft: \"點選這裏可以回到這個幫助頁面\",\n        tipTopRight: \"點選這裏切換頁面\",\n        tipBottomLeft: \"這裏可以加載音訊，控制播放\",\n        tipBottomRight: \"這裏可以調節播放速度\",\n    },\n\n    editor: {\n        metaInfo: \"元數據\",\n        album: \"所屬專輯\",\n        title: \"歌曲名\",\n        artist: \"藝人名\",\n        uploadText: \"匯入文本\",\n        copyText: \"全選拷貝\",\n        downloadText: \"下載\",\n        saveToGist: \"保存到 Github Gist\",\n        saveFileName: \"檔名\",\n        utils: \"實用工具\",\n    },\n\n    gist: {\n        newTokenTip: \"歌詞滾動姬使用 Github Token 來存取 Github Gist 上的數據\",\n        newTokenButton: \"生成新的 Github Token\",\n        newGistTip: \"創建一個新的 Gist 儲存庫或指定一個已存在的 Gist id\",\n        newGistRepoButton: \"創建一個新的 Gist 儲存庫\",\n        gistIdPlaceholder: \"或指定一個已存在的 Gist id\",\n        info: \"資訊\",\n        clearTokenAndGist: \"清除 Github Token 和 Gist id\",\n    },\n\n    preferences: {\n        version: \"版本\",\n        commitHash: \"Commit hash\",\n        updateTime: \"更新時間\",\n        repo: \"專案地址\",\n        help: \"關於 & 幫助\",\n        language: \"語言(language)\",\n        builtInAudio: \"使用瀏覽器內建音訊播放器\",\n        spaceButton: \"啓用螢幕 Space 鍵\",\n        themeColor: \"主題顏色\",\n        lrcFormat: \"歌詞輸出格式控制\",\n        fixed: \"時間標籤小數點\",\n        leftSpace: \"左側空格\",\n        rightSpace: \"右側空格\",\n        clearCache: \"清除快取\",\n        themeMode: {\n            label: \"主題模式\",\n            auto: \"跟隨系統\",\n            light: \"亮色模式\",\n            dark: \"暗色模式\",\n        },\n    },\n\n    notify: {\n        audioLoaded: \"音訊已匯入\",\n    },\n};\n","export const language = {\n    languageName: \"繁體中文\",\n\n    app: {\n        name: \"歌詞滾動姬\",\n        fullname: \"小明的歌詞滾動姬\",\n    },\n\n    header: {\n        home: \"主頁\",\n        editor: \"編輯\",\n        synchronizer: \"同步\",\n        gist: \"Githu Gist\",\n        preferences: \"設定\",\n    },\n\n    audio: {\n        loadAudio: \"匯入音訊\",\n        play: \"播放\",\n        pause: \"暫停\",\n        replay5s: \"倒轉 5s\",\n        forward5s: \"快轉 5s\",\n        resetRate: \"重設播放速度\",\n        error: [\"音訊錯誤\", \"音訊請求被用戶終止\", \"音訊網路請求錯誤\", \"音訊解碼錯誤\", \"瀏覽器無法支援此音訊格式\"],\n    },\n\n    loadAudio: {\n        file: \"檔案\",\n        url: \"URL\",\n        loadFile: \"點選這裡或直接拖放音訊檔案到這個頁面\",\n    },\n\n    home: {\n        tips: \"提示\",\n        tipForLyricText: \"切換到編輯頁面，黏貼歌詞文本。\",\n        tipForUploadAudio: \"點選左下方按鈕，匯入音訊檔案。\",\n        tipForSynchronizer: \"切換到同步頁面，開始製作滾動歌詞吧～\",\n        tipTopLeft: \"點選這裡可以回到這個幫助頁面\",\n        tipTopRight: \"點選這裡切換頁面\",\n        tipBottomLeft: \"這裡可以加載音訊，控制播放\",\n        tipBottomRight: \"這裡可以調節播放速度\",\n    },\n\n    editor: {\n        metaInfo: \"元數據\",\n        album: \"所屬專輯\",\n        title: \"歌曲名\",\n        artist: \"藝人名\",\n        uploadText: \"匯入文本\",\n        copyText: \"全選拷貝\",\n        downloadText: \"下載\",\n        saveToGist: \"保存到 Github Gist\",\n        saveFileName: \"檔名\",\n        utils: \"實用工具\",\n    },\n\n    gist: {\n        newTokenTip: \"歌詞滾動姬使用 Github Token 來存取 Github Gist 上的數據\",\n        newTokenButton: \"生成新的 Github Token\",\n        newGistTip: \"創建一個新的 Gist 儲存庫或指定一個已存在的 Gist id\",\n        newGistRepoButton: \"創建一個新的 Gist 儲存庫\",\n        gistIdPlaceholder: \"或指定一個已存在的 Gist id\",\n        info: \"資訊\",\n        clearTokenAndGist: \"清除 Github Token 和 Gist id\",\n    },\n\n    preferences: {\n        version: \"版本\",\n        commitHash: \"Commit hash\",\n        updateTime: \"更新時間\",\n        repo: \"專案地址\",\n        help: \"關於 & 幫助\",\n        language: \"語言(language)\",\n        builtInAudio: \"使用瀏覽器內建音訊播放器\",\n        spaceButton: \"啓用螢幕 Space 鍵\",\n        themeColor: \"主題顏色\",\n        lrcFormat: \"歌詞輸出格式控制\",\n        fixed: \"時間標籤小數點\",\n        leftSpace: \"左側空格\",\n        rightSpace: \"右側空格\",\n        clearCache: \"清除快取\",\n        themeMode: {\n            label: \"主題模式\",\n            auto: \"跟隨系統\",\n            light: \"亮色模式\",\n            dark: \"暗色模式\",\n        },\n    },\n\n    notify: {\n        audioLoaded: \"音訊已匯入\",\n    },\n};\n","declare global {\n    interface String {\n        trimStart(): string;\n        trimEnd(): string;\n    }\n}\n\nexport type Fixed = 0 | 1 | 2 | 3;\n\nexport interface ILyric {\n    time?: number;\n    text: string;\n}\n\nexport type State = Readonly<{\n    info: Map<string, string>;\n    lyric: readonly ILyric[];\n}>;\n\nexport type TrimOptios = Partial<{\n    trimStart: boolean;\n    trimEnd: boolean;\n}>;\n\nexport const parser = (lrcString: string, option: TrimOptios = {}): State => {\n    const { trimStart = false, trimEnd = false } = option;\n\n    const lines = lrcString.split(/\\r\\n|\\n|\\r/);\n\n    const timeTag = /\\[\\s*(\\d{1,3}):(\\d{1,2}(?:[:.]\\d{1,3})?)\\s*]/g;\n    const infoTag = /\\[\\s*(\\w{1,6})\\s*:(.*?)]/;\n\n    const info: Map<string, string> = new Map();\n    const lyric: ILyric[] = [];\n\n    for (const line of lines) {\n        if (line[0] !== \"[\") {\n            lyric.push({\n                text: line,\n            });\n            continue;\n        }\n\n        // now, line starts with \"[\"\n        timeTag.lastIndex = 0;\n        const rTimeTag = timeTag.exec(line);\n        if (rTimeTag !== null) {\n            const mm = Number.parseInt(rTimeTag[1], 10);\n            const ss = Number.parseFloat(rTimeTag[2].replace(\":\", \".\"));\n            const text = line.slice(timeTag.lastIndex);\n\n            lyric.push({\n                time: mm * 60 + ss,\n                text,\n            });\n\n            continue;\n        }\n\n        const rInfoTag = infoTag.exec(line);\n        if (rInfoTag !== null) {\n            const value = rInfoTag[2].trim();\n\n            if (value === \"\") {\n                continue;\n            }\n\n            info.set(rInfoTag[1], value);\n\n            continue;\n        }\n\n        // if we reach here, it means this line starts with \"[\",\n        // but not match time tag or info tag.\n\n        lyric.push({\n            text: line,\n        });\n    }\n\n    if (trimStart || trimEnd) {\n        lyric.forEach((line) => {\n            if (trimStart) {\n                line.text = line.text.trimStart();\n            }\n            if (trimEnd) {\n                line.text = line.text.trimEnd();\n            }\n        });\n    }\n\n    return { info, lyric };\n};\n\nconst storedFormatter = new Map<Fixed, Intl.NumberFormat>();\n\nconst getFormatter = (fixed: Fixed) => {\n    if (storedFormatter.has(fixed)) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        return storedFormatter.get(fixed)!;\n    } else {\n        const newFormatter = new Intl.NumberFormat(\"en\", {\n            minimumIntegerDigits: 2,\n            minimumFractionDigits: fixed,\n            maximumFractionDigits: fixed,\n            useGrouping: false,\n        });\n        storedFormatter.set(fixed, newFormatter);\n        return newFormatter;\n    }\n};\n\nexport const convertTimeToTag = (time: number | undefined, fixed: Fixed, withBrackets = true): string => {\n    if (time === undefined) {\n        return \"\";\n    }\n\n    const formatter = getFormatter(fixed);\n\n    const mm = Math.floor(time / 60)\n        .toString()\n        .padStart(2, \"0\");\n    const ss = formatter.format(time % 60);\n\n    return withBrackets ? `[${mm}:${ss}]` : `${mm}:${ss}`;\n};\n\nexport const formatText = (text: string, spaceStart: number, spaceEnd: number): string => {\n    let newText = text;\n    if (spaceStart >= 0) {\n        newText = \" \".repeat(spaceStart) + newText.trimStart();\n    }\n    if (spaceEnd >= 0) {\n        newText = newText.trimEnd() + \" \".repeat(spaceEnd);\n    }\n    return newText;\n};\n\nexport interface IFormatOptions {\n    spaceStart: number;\n    spaceEnd: number;\n    fixed: Fixed;\n    endOfLine?: \"\\n\" | \"\\r\\n\" | \"\\r\";\n}\n\nexport const stringify = (state: State, option: IFormatOptions): string => {\n    const { spaceStart, spaceEnd, fixed, endOfLine = \"\\r\\n\" } = option;\n\n    const infos = Array.from(state.info.entries()).map(([name, value]) => {\n        return `[${name}: ${value}]`;\n    });\n\n    const lines = state.lyric.map((line) => {\n        if (line.time === undefined) {\n            return line.text;\n        }\n        const text = formatText(line.text, spaceStart, spaceEnd);\n\n        return `${convertTimeToTag(line.time, fixed)}${text}`;\n    });\n    return infos.concat(lines).join(endOfLine);\n};\n","// smooth scroll\n// only for special usage of lrc maker\n\nexport default ((): void => {\n    const duration = 468;\n\n    const getNow = performance || Date;\n\n    const ease = (k: number): number => {\n        return 0.5 * (1 - Math.cos(Math.PI * k));\n    };\n\n    interface IContext {\n        method: (x: number, y: number) => void;\n        startTime: number;\n        startX: number;\n        startY: number;\n        stopY: number;\n    }\n\n    const rafID = {\n        current: 0,\n    };\n\n    const cancelScroll = (): void => {\n        cancelAnimationFrame(rafID.current);\n        cleanEventListener();\n    };\n\n    const listenerOptions = {\n        passive: true,\n        once: true,\n    };\n\n    const atachEventListener = (): void => {\n        window.addEventListener(\"wheel\", cancelScroll, listenerOptions);\n        window.addEventListener(\"touchmove\", cancelScroll, listenerOptions);\n    };\n\n    const cleanEventListener = (): void => {\n        window.removeEventListener(\"wheel\", cancelScroll);\n        window.removeEventListener(\"touchmove\", cancelScroll);\n    };\n\n    const step = (context: IContext): void => {\n        const time = getNow.now();\n        const { startTime, startX, startY, stopY } = context;\n        const elapsed = (time - startTime) / duration;\n\n        if (elapsed >= 1) {\n            context.method(startX, stopY);\n            cleanEventListener();\n            return;\n        }\n\n        // apply easing to elapsed time\n        const value = ease(elapsed);\n\n        const currentY = startY + (stopY - startY) * value;\n\n        context.method(startX, currentY);\n\n        if (currentY !== stopY) {\n            rafID.current = requestAnimationFrame(() => step(context));\n        }\n    };\n\n    const scrollingElement = document.scrollingElement || document.documentElement;\n\n    Element.prototype.scrollIntoView = function (): void {\n        const { top, bottom } = this.getBoundingClientRect();\n\n        const center = (top + bottom) / 2;\n\n        const viewportHeight = window.visualViewport ? window.visualViewport.height : innerHeight;\n\n        const startX = scrollingElement.scrollLeft;\n        const startY = scrollingElement.scrollTop;\n        const stopY = startY + center - viewportHeight / 2;\n\n        cancelAnimationFrame(rafID.current);\n        atachEventListener();\n\n        step({\n            method: (x: number, y: number) => window.scroll(x, y),\n            startTime: getNow.now(),\n            startX,\n            startY,\n            stopY,\n        });\n    };\n})();\n","import { createPubSub } from \"./pubsub.js\";\n\ninterface IAudioRef extends React.RefObject<HTMLAudioElement> {\n    readonly src: string;\n    readonly duration: number;\n    readonly paused: boolean;\n    playbackRate: number;\n    currentTime: number;\n    toggle: () => void;\n}\n\nexport const audioRef: IAudioRef = {\n    current: null,\n\n    get src() {\n        return this.current?.src ?? \"\";\n    },\n\n    get duration() {\n        return this.current?.duration ?? 0;\n    },\n\n    get paused() {\n        return this.current?.paused ?? true;\n    },\n\n    get playbackRate() {\n        return this.current?.playbackRate ?? 1;\n    },\n    set playbackRate(rate: number) {\n        if (this.current !== null) {\n            this.current.playbackRate = rate;\n        }\n    },\n\n    get currentTime() {\n        return this.current?.currentTime ?? 0;\n    },\n    set currentTime(time: number) {\n        if (this.current !== null && this.current.duration !== 0) {\n            this.current.currentTime = time;\n        }\n    },\n\n    toggle() {\n        if (this.current?.duration) {\n            this.current.paused ? this.current.play() : this.current.pause();\n        }\n    },\n};\n\nexport const enum AudioActionType {\n    pause,\n    getDuration,\n    rateChange,\n}\n\nexport type AudioState =\n    | {\n          type: AudioActionType.pause;\n          payload: boolean;\n      }\n    | {\n          type: AudioActionType.getDuration;\n          payload: number;\n      }\n    | {\n          type: AudioActionType.rateChange;\n          payload: number;\n      };\n\nexport const audioStatePubSub = createPubSub<AudioState>();\nexport const currentTimePubSub = createPubSub<number>();\n","const apiUrl = \"https://api.github.com/gists\";\n\nexport interface IGistFile {\n    filename: string;\n    content: string;\n    truncated: boolean;\n    raw_url: string;\n}\n\nexport interface IGistRepo {\n    id: string;\n    description: string;\n    files: { [filename: string]: IGistFile };\n}\n\nexport type Ratelimit = Record<\"x-ratelimit-limit\" | \"x-ratelimit-remaining\" | \"x-ratelimit-reset\", string>;\n\nexport const getRepos = async (): Promise<IGistRepo[]> => {\n    const token = localStorage.getItem(LSK.token);\n\n    const res = await fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            Authorization: `token ${token}`,\n        },\n        mode: \"cors\",\n    });\n\n    if (!res.ok) {\n        throw new Error(res.statusText);\n    }\n    return res.json();\n};\n\nexport const enum GistInfo {\n    description = \"https://lrc-maker.github.io\",\n    fileName = \".lrc-maker\",\n    fileContent = \"This file is used to be tracked and identified by https://lrc-maker.github.io\",\n}\n\nexport const createRepo = async (): Promise<IGistRepo> => {\n    const token = localStorage.getItem(LSK.token);\n\n    const res = await fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n            Authorization: `token ${token}`,\n        },\n        body: JSON.stringify({\n            description: GistInfo.description,\n            public: true,\n            files: {\n                [GistInfo.fileName]: { content: GistInfo.fileContent },\n            },\n        }),\n    });\n\n    if (!res.ok) {\n        throw new Error(res.statusText);\n    }\n    return res.json();\n};\n\nexport const assignRepo = async (): Promise<IGistRepo> => {\n    const token = localStorage.getItem(LSK.token);\n    const id = localStorage.getItem(LSK.gistId);\n\n    const res = await fetch(`${apiUrl}/${id}`, {\n        method: \"PATCH\",\n        headers: {\n            Authorization: `token ${token}`,\n        },\n        body: JSON.stringify({\n            description: GistInfo.description,\n            files: {\n                [GistInfo.fileName]: { content: GistInfo.fileContent },\n            },\n        }),\n    });\n\n    if (!res.ok) {\n        throw new Error(res.statusText);\n    }\n    return res.json();\n};\n\nexport const getFils = async (): Promise<IGistRepo | null> => {\n    const token = localStorage.getItem(LSK.token);\n    const id = localStorage.getItem(LSK.gistId);\n    const etag = localStorage.getItem(LSK.gistEtag)!;\n\n    const res = await fetch(`${apiUrl}/${id}`, {\n        headers: {\n            \"Authorization\": `token ${token}`,\n            \"If-None-Match\": etag,\n        },\n    });\n    if (!res.ok) {\n        if (res.status >= 400) {\n            throw await res.json();\n        }\n    }\n    localStorage.setItem(LSK.gistEtag, res.headers.get(\"etag\")!);\n    const ratelimit: Ratelimit = {\n        \"x-ratelimit-limit\": res.headers.get(\"x-ratelimit-limit\")!,\n        \"x-ratelimit-remaining\": res.headers.get(\"x-ratelimit-remaining\")!,\n        \"x-ratelimit-reset\": res.headers.get(\"x-ratelimit-reset\")!,\n    };\n    sessionStorage.setItem(SSK.ratelimit, JSON.stringify(ratelimit));\n    return res.status === 200 ? res.json() : null;\n};\n\nexport const createFile = async (fileName: string, content: string): Promise<IGistRepo> => {\n    const token = localStorage.getItem(LSK.token);\n    const id = localStorage.getItem(LSK.gistId);\n\n    const res = await fetch(`${apiUrl}/${id}`, {\n        method: \"PATCH\",\n        headers: {\n            Authorization: `token ${token}`,\n        },\n        body: JSON.stringify({\n            files: {\n                [fileName]: { content },\n            },\n        }),\n    });\n\n    if (!res.ok) {\n        throw new Error(res.statusText);\n    }\n    return res.json();\n};\n","export const isKeyboardElement = (element: EventTarget | null): boolean => {\n    if (element === null) {\n        return false;\n    }\n\n    const type = (element as HTMLInputElement | HTMLTextAreaElement).type;\n\n    return type === \"textarea\" || type === \"text\" || type === \"url\";\n};\n","const filenamify = (name: string): string => {\n    return name.replace(/[<>:\"/\\\\|?*]/g, \"_\").trim();\n};\n\nexport const lrcFileName = (lrcInfo: Map<string, string>): string => {\n    const list = [lrcInfo.get(\"ti\"), lrcInfo.get(\"ar\")].filter((v) => !!v);\n\n    if (list.length === 0) {\n        if (lrcInfo.has(\"al\")) {\n            list.push(lrcInfo.get(\"al\"));\n        }\n        list.push(new Date().toLocaleString());\n    }\n    return (list as string[]).map((name) => filenamify(name)).join(\" - \") + \".lrc\";\n};\n","export const createPubSub = <DT, ID = unknown>() => {\n    type CB = (data: DT) => void;\n    const bus = new Map<ID, CB>();\n\n    const pub = (data: DT): void => {\n        bus.forEach((cb: CB) => cb(data));\n    };\n    const sub = (id: ID, cb: CB): (() => void) => {\n        bus.set(id, cb);\n\n        return (): void => {\n            bus.delete(id);\n        };\n    };\n\n    return { pub, sub };\n};\n","require('../../modules/es.array.includes');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('Array', 'includes');\n","require('../../modules/es.object.entries');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.entries;\n","require('../../modules/es.object.values');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.values;\n","require('../../modules/es.string.pad-end');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('String', 'padEnd');\n","require('../../modules/es.string.pad-start');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('String', 'padStart');\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar bind = require('../internals/function-bind-context');\n\nvar call = Function.call;\n\nmodule.exports = function (CONSTRUCTOR, METHOD, length) {\n  return bind(call, global[CONSTRUCTOR].prototype[METHOD], length);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  (function () { return this; })() || Function('return this')();\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","module.exports = {};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.8.3',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","// https://github.com/zloirock/core-js/issues/280\nvar userAgent = require('../internals/engine-user-agent');\n\n// eslint-disable-next-line unicorn/no-unsafe-regex\nmodule.exports = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('../internals/to-length');\nvar repeat = require('../internals/string-repeat');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar ceil = Math.ceil;\n\n// `String.prototype.{ padStart, padEnd }` methods implementation\nvar createMethod = function (IS_END) {\n  return function ($this, maxLength, fillString) {\n    var S = String(requireObjectCoercible($this));\n    var stringLength = S.length;\n    var fillStr = fillString === undefined ? ' ' : String(fillString);\n    var intMaxLength = toLength(maxLength);\n    var fillLen, stringFiller;\n    if (intMaxLength <= stringLength || fillStr == '') return S;\n    fillLen = intMaxLength - stringLength;\n    stringFiller = repeat.call(fillStr, ceil(fillLen / fillStr.length));\n    if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n    return IS_END ? S + stringFiller : stringFiller + S;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.padStart` method\n  // https://tc39.es/ecma262/#sec-string.prototype.padstart\n  start: createMethod(false),\n  // `String.prototype.padEnd` method\n  // https://tc39.es/ecma262/#sec-string.prototype.padend\n  end: createMethod(true)\n};\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $padEnd = require('../internals/string-pad').end;\nvar WEBKIT_BUG = require('../internals/string-pad-webkit-bug');\n\n// `String.prototype.padEnd` method\n// https://tc39.es/ecma262/#sec-string.prototype.padend\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $padEnd(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $padStart = require('../internals/string-pad').start;\nvar WEBKIT_BUG = require('../internals/string-pad-webkit-bug');\n\n// `String.prototype.padStart` method\n// https://tc39.es/ecma262/#sec-string.prototype.padstart\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const details = document.createElement(\"details\");\n\nconst polyfilldetails = (): void => {\n    const prototype = details.constructor.prototype as HTMLDetailsElement;\n    const openProperty = Object.getOwnPropertyDescriptor(prototype, \"open\");\n\n    Object.defineProperties(prototype, {\n        open: {\n            get(this: HTMLDetailsElement): boolean {\n                if (this.tagName === \"DETAILS\") {\n                    return this.hasAttribute(\"open\");\n                } else {\n                    return openProperty?.get?.call(this);\n                }\n            },\n            set(this: HTMLDetailsElement, value: boolean): void {\n                if (this.tagName === \"DETAILS\") {\n                    if (value !== this.hasAttribute(\"open\")) {\n                        const event = document.createEvent(\"Event\");\n                        event.initEvent(\"toggle\", false, false);\n                        this.dispatchEvent(event);\n                    }\n                    return value ? this.setAttribute(\"open\", \"\") : this.removeAttribute(\"open\");\n                } else {\n                    return openProperty?.set?.call(this, value);\n                }\n            },\n        },\n    });\n\n    document.addEventListener(\"click\", (event) => {\n        const element = event.target as Element;\n        const summary = element.closest(\"summary\");\n        const details = summary?.parentElement as HTMLDetailsElement | null | undefined;\n        if (!details || details.tagName !== \"DETAILS\") {\n            return;\n        }\n\n        details.open = !details.open;\n    });\n};\n\nif (!(\"open\" in details)) {\n    polyfilldetails();\n}\n","import { AudioActionType, audioStatePubSub } from \"../utils/audiomodule.js\";\nimport { CloseSVG } from \"./svg.js\";\n\nconst { useRef, useEffect, useCallback } = React;\n\ninterface ILoadAudioDialogRef extends React.RefObject<HTMLDetailsElement> {\n    readonly isOpen: boolean;\n    open: () => void;\n    close: () => void;\n}\n\n// let supportDialog = (window as any).HTMLDialogElement !== undefined;\n\nexport const loadAudioDialogRef: ILoadAudioDialogRef = {\n    current: null,\n\n    get isOpen() {\n        return this.current !== null && this.current.open;\n    },\n\n    open() {\n        if (this.current === null || this.current.open) {\n            return;\n        }\n        this.current.open = true;\n    },\n\n    close() {\n        if (this.current === null || !this.current.open) {\n            return;\n        }\n        this.current.open = false;\n    },\n};\n\ninterface ILoadAudioOptions {\n    setAudioSrc: (src: string) => void;\n    lang: Language;\n}\n\nexport const LoadAudio: React.FC<ILoadAudioOptions> = ({ setAudioSrc, lang }) => {\n    const self = useRef(Symbol(LoadAudio.name));\n\n    useEffect(() => {\n        return audioStatePubSub.sub(self.current, (data) => {\n            if (data.type === AudioActionType.getDuration) {\n                loadAudioDialogRef.close();\n            }\n        });\n    }, []);\n\n    const onToggle = useCallback(() => {\n        const onEscapeKeyDown = (ev: KeyboardEvent): void => {\n            if (ev.code === \"Escape\" || ev.key === \"Escape\") {\n                loadAudioDialogRef.close();\n            }\n        };\n\n        if (loadAudioDialogRef.isOpen) {\n            window.addEventListener(\"keydown\", onEscapeKeyDown);\n        } else {\n            window.removeEventListener(\"keydown\", onEscapeKeyDown);\n        }\n    }, []);\n\n    const onSubmit = useCallback(\n        (ev: React.FormEvent<HTMLFormElement>) => {\n            ev.preventDefault();\n\n            const form = ev.target as HTMLFormElement;\n\n            const urlInput = form.elements.namedItem(\"url\") as HTMLInputElement;\n\n            const url = nec(urlInput.value);\n\n            sessionStorage.setItem(SSK.audioSrc, url);\n            setAudioSrc(url);\n        },\n        [setAudioSrc],\n    );\n\n    const onFocus = useCallback((ev: React.FocusEvent<HTMLInputElement>) => {\n        ev.target.select();\n    }, []);\n\n    return ReactDOM.createPortal(\n        <details ref={loadAudioDialogRef} className=\"dialog fixed loadaudio-dialog\" onToggle={onToggle}>\n            <summary className=\"dialog-close\">\n                <CloseSVG />\n            </summary>\n            <section className=\"dialog-body loadaudio-body\">\n                <div className=\"loadaudio-tab loadaudio-via-file\">\n                    <input type=\"radio\" name=\"tabgroup\" id=\"tab-file\" defaultChecked={true} />\n                    <label className=\"ripple\" htmlFor=\"tab-file\">\n                        {lang.loadAudio.file}\n                    </label>\n                    <div className=\"loadaudio-content\">\n                        <label className=\"audio-input-tip\" htmlFor=\"audio-input\">\n                            {lang.loadAudio.loadFile}\n                        </label>\n                    </div>\n                </div>\n\n                <div className=\"loadaudio-tab loadaudio-via-url\">\n                    <input type=\"radio\" name=\"tabgroup\" id=\"tab-url\" />\n                    <label className=\"ripple\" htmlFor=\"tab-url\">\n                        {lang.loadAudio.url}\n                    </label>\n                    <div className=\"loadaudio-content\">\n                        <form className=\"audio-input-form\" onSubmit={onSubmit}>\n                            <input\n                                type=\"url\"\n                                name=\"url\"\n                                required={true}\n                                autoCapitalize=\"none\"\n                                autoComplete=\"off\"\n                                autoCorrect=\"off\"\n                                spellCheck={false}\n                                onFocus={onFocus}\n                            />\n                            <input className=\"button\" type=\"submit\" />\n                        </form>\n                    </div>\n                </div>\n            </section>\n        </details>,\n        document.body,\n    );\n};\n\nexport const nec = (url: string): string => {\n    if (url.includes(\"music.163.com\")) {\n        const result = url.match(/\\d{4,}/);\n        if (result !== null) {\n            const id = result[0];\n            return `https://music.163.com/song/media/outer/url?id=${id}.mp3`;\n        }\n    }\n    return url;\n};\n","import { isKeyboardElement } from \"../utils/is-keyboard-element.js\";\nimport { appContext } from \"./app.context.js\";\nimport { loadAudioDialogRef } from \"./loadaudio.js\";\nimport { EditorSVG, LoadAudioSVG, SynchronizerSVG } from \"./svg.js\";\n\nconst { useContext } = React;\n\nexport const Home: React.FC = () => {\n    const { lang } = useContext(appContext);\n\n    const onLoadAudioDialogOpen = (): void => {\n        loadAudioDialogRef.open();\n    };\n\n    return (\n        <div className=\"home\">\n            <p className=\"home-tip home-tip-top-left\">{lang.home.tipTopLeft}</p>\n            <p className=\"home-tip home-tip-top-right\">{lang.home.tipTopRight}</p>\n            <p className=\"home-tip home-tip-bottom-left\">{lang.home.tipBottomLeft}</p>\n            <p className=\"home-tip home-tip-bottom-right\">{lang.home.tipBottomRight}</p>\n            <section className=\"home-tip-section\">\n                <p>{lang.home.tips}</p>\n                <ol>\n                    <li>\n                        <a className=\"home-tip-item\" href={Path.editor}>\n                            <EditorSVG />\n                            <span className=\"home-tip-text\">{lang.home.tipForLyricText}</span>\n                        </a>\n                    </li>\n                    <li>\n                        <span className=\"home-tip-item\" onClick={onLoadAudioDialogOpen}>\n                            <LoadAudioSVG />\n                            <span className=\"home-tip-text\">{lang.home.tipForUploadAudio}</span>\n                        </span>\n                    </li>\n                    <li>\n                        <a className=\"home-tip-item\" href={Path.synchronizer}>\n                            <SynchronizerSVG />\n                            <span className=\"home-tip-text\">{lang.home.tipForSynchronizer}</span>\n                        </a>\n                    </li>\n                </ol>\n            </section>\n        </div>\n    );\n};\n\ndocument.addEventListener(\"keydown\", (ev) => {\n    const { code, key, target } = ev;\n\n    if (isKeyboardElement(target)) {\n        return;\n    }\n\n    if (key === \"?\" || (code === \"Slash\" && ev.shiftKey)) {\n        location.hash = Path.home;\n    }\n});\n","import { ActionType as LrcActionType, useLrc } from \"../hooks/useLrc.js\";\nimport { ThemeMode } from \"../hooks/usePref.js\";\nimport { convertTimeToTag, stringify } from \"../lrc-parser.js\";\nimport { AudioActionType, audioStatePubSub } from \"../utils/audiomodule.js\";\nimport { appContext, ChangBits } from \"./app.context.js\";\nimport { Home } from \"./home.js\";\nimport { AkariNotFound, AkariOangoLoading } from \"./svg.img.js\";\n\nconst { lazy, useContext, useEffect, useRef, useState } = React;\n\nconst LazyEditor = lazy(() =>\n    import(/* webpackMode: \"eager\" */ \"./editor.js\").then(({ Eidtor }) => {\n        return { default: Eidtor };\n    }),\n);\n\nconst LazySynchronizer = lazy(() =>\n    import(/* webpackMode: \"eager\" */ \"./synchronizer.js\").then(({ Synchronizer }) => {\n        return { default: Synchronizer };\n    }),\n);\n\nconst LazyGist = lazy(() =>\n    import(/* webpackMode: \"eager\" */ \"./gist.js\").then(({ Gist }) => {\n        return { default: Gist };\n    }),\n);\n\nconst LazyPreferences = lazy(() =>\n    import(/* webpackMode: \"eager\" */ \"./preferences.js\").then(({ Preferences }) => {\n        return { default: Preferences };\n    }),\n);\n\nexport const Content: React.FC = () => {\n    const self = useRef(Symbol(Content.name));\n\n    const { prefState, trimOptions } = useContext(appContext, ChangBits.prefState);\n\n    const [path, setPath] = useState(location.hash);\n    useEffect(() => {\n        window.addEventListener(\"hashchange\", () => {\n            setPath(location.hash);\n        });\n    }, []);\n\n    const [lrcState, lrcDispatch] = useLrc(() => {\n        return {\n            text: localStorage.getItem(LSK.lyric) || Const.emptyString,\n            options: trimOptions,\n            select: Number.parseInt(sessionStorage.getItem(SSK.selectIndex)!, 10) || 0,\n        };\n    });\n\n    useEffect(() => {\n        return audioStatePubSub.sub(self.current, (data) => {\n            if (data.type === AudioActionType.getDuration) {\n                lrcDispatch({\n                    type: LrcActionType.info,\n                    payload: {\n                        name: \"length\",\n                        value: convertTimeToTag(data.payload, prefState.fixed, false),\n                    },\n                });\n            }\n        });\n    }, [lrcDispatch, prefState.fixed]);\n\n    useEffect(() => {\n        const saveState = (): void => {\n            lrcDispatch({\n                type: LrcActionType.getState,\n                payload: (lrc) => {\n                    localStorage.setItem(LSK.lyric, stringify(lrc, prefState));\n                    sessionStorage.setItem(SSK.selectIndex, lrc.selectIndex.toString());\n                },\n            });\n\n            localStorage.setItem(LSK.preferences, JSON.stringify(prefState));\n        };\n\n        document.addEventListener(\"visibilitychange\", () => {\n            if (document.hidden) {\n                saveState();\n            }\n        });\n\n        window.addEventListener(\"beforeunload\", () => {\n            saveState();\n        });\n    }, [lrcDispatch, prefState]);\n\n    useEffect(() => {\n        document.documentElement.addEventListener(\"drop\", (ev) => {\n            const file = ev.dataTransfer?.files[0];\n            if (file && (file.type.startsWith(\"text/\") || /(?:\\.lrc|\\.txt)$/i.test(file.name))) {\n                const fileReader = new FileReader();\n\n                const onload = (): void => {\n                    lrcDispatch({\n                        type: LrcActionType.parse,\n                        payload: { text: fileReader.result as string, options: trimOptions },\n                    });\n                };\n\n                fileReader.addEventListener(\"load\", onload, {\n                    once: true,\n                });\n\n                location.hash = Path.editor;\n\n                fileReader.readAsText(file, \"utf-8\");\n            }\n        });\n    }, [lrcDispatch, trimOptions]);\n\n    useEffect(() => {\n        const values = {\n            [ThemeMode.auto]: \"auto\",\n            [ThemeMode.light]: \"light\",\n            [ThemeMode.dark]: \"dark\",\n        } as const;\n\n        document.documentElement.dataset.theme = values[prefState.themeMode];\n    }, [prefState.themeMode]);\n\n    useEffect(() => {\n        const rgb = hex2rgb(prefState.themeColor);\n        document.documentElement.style.setProperty(\"--theme-rgb\", rgb.join(\", \"));\n\n        // https://www.w3.org/TR/WCAG20/#contrast-ratiodef\n        // const contrast = (rgb1, rgb2) => {\n        //   const c1 = luminanace(...rgb1) + 0.05;\n        //   const c2 = luminanace(...rgb2) + 0.05;\n        //   return c1 > c2 ? c1 / c2 : c2 / c1;\n        // };\n\n        // c: color ; b: black; w: white;\n        // if we need black text\n        //\n        // (lum(c) + 0.05) / (l(b) + 0.05) > (l(w) + 0.05) / (lum(c) + 0.05);\n        // => (lum(c) + 0.05)^2 > (l(b) +0.05) * (l(w) + 0.05) = 1.05 * 0.05 = 0.0525\n\n        const lum = luminanace(...rgb);\n        const con = lum + 0.05;\n        const contrastColor = con * con > 0.0525 ? \"var(--black)\" : \"var(--white)\";\n        document.documentElement.style.setProperty(\"--theme-contrast-color\", contrastColor);\n    }, [prefState.themeColor]);\n\n    const content = ((): JSX.Element => {\n        switch (path) {\n            case Path.editor: {\n                return <LazyEditor lrcState={lrcState} lrcDispatch={lrcDispatch} />;\n            }\n\n            case Path.synchronizer: {\n                if (lrcState.lyric.length === 0) {\n                    return <AkariNotFound />;\n                }\n                return <LazySynchronizer state={lrcState} dispatch={lrcDispatch} />;\n            }\n\n            case Path.gist: {\n                return <LazyGist lrcDispatch={lrcDispatch} langName={prefState.lang} />;\n            }\n\n            case Path.preferences: {\n                return <LazyPreferences />;\n            }\n        }\n\n        return <Home />;\n    })();\n\n    return (\n        <main className=\"app-main\">\n            <React.Suspense fallback={<AkariOangoLoading />}>{content}</React.Suspense>\n        </main>\n    );\n};\n\n// https://www.w3.org/TR/WCAG20/#relativeluminancedef\nconst luminanace = (...rgb: [number, number, number]): number => {\n    return rgb\n        .map((v) => v / 255)\n        .map((v) => (v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4)))\n        .reduce((p, c, i) => {\n            return p + c * [0.2126, 0.7152, 0.0722][i];\n        }, 0);\n};\n\nconst hex2rgb = (hex: string): [number, number, number] => {\n    hex = hex.slice(1);\n    const value = Number.parseInt(hex, 16);\n    const r = (value >> 0x10) & 0xff;\n    const g = (value >> 0x08) & 0xff;\n    const b = (value >> 0x00) & 0xff;\n    return [r, g, b];\n};\n","import { convertTimeToTag } from \"../lrc-parser.js\";\nimport { AudioActionType, audioRef, AudioState, audioStatePubSub, currentTimePubSub } from \"../utils/audiomodule.js\";\nimport { loadAudioDialogRef } from \"./loadaudio.js\";\nimport { Forward5sSVG, LoadAudioSVG, PauseSVG, PlaySVG, Replay5sSVG } from \"./svg.js\";\n\nconst { useState, useEffect, useRef, useCallback, useMemo } = React;\n\ninterface ISliderProps {\n    min: number;\n    max: number;\n    step?: string | number;\n    value: number;\n    onInput: (event: React.ChangeEvent<HTMLInputElement>) => void;\n    className: string;\n}\n\nconst Slider: React.FC<ISliderProps> = ({ min, max, step, value, onInput, className }) => {\n    const total = max - min || 1;\n    const percent = (value - min) / total;\n\n    return (\n        <div className={`slider ${className}-slider`}>\n            <progress value={percent} />\n            <input\n                type=\"range\"\n                className={className}\n                aria-label={className}\n                min={min}\n                max={max}\n                step={step}\n                value={value}\n                onInput={onInput}\n            />\n        </div>\n    );\n};\n\nconst TimeLine: React.FC<{ duration: number; paused: boolean }> = ({ duration, paused }) => {\n    const self = useRef(Symbol(TimeLine.name));\n    const [currentTime, setCurrentTime] = useState(audioRef.currentTime);\n    const [rate, setRate] = useState(audioRef.playbackRate);\n\n    useEffect(() => {\n        return audioStatePubSub.sub(self.current, (data) => {\n            if (data.type === AudioActionType.rateChange) {\n                setRate(data.payload);\n            }\n        });\n    }, []);\n\n    useEffect(() => {\n        if (paused) {\n            // paused but user changing the time\n            return currentTimePubSub.sub(self.current, (data) => {\n                setCurrentTime(data);\n            });\n        } else {\n            const id = setInterval(() => {\n                setCurrentTime(audioRef.currentTime);\n            }, 500 / rate);\n\n            return (): void => {\n                clearInterval(id);\n            };\n        }\n    }, [paused, rate]);\n\n    const rafId = useRef(0);\n\n    const onInput = useCallback((ev: React.ChangeEvent<HTMLInputElement>) => {\n        if (rafId.current) {\n            cancelAnimationFrame(rafId.current);\n        }\n\n        const value = ev.target.value;\n\n        rafId.current = requestAnimationFrame(() => {\n            const time = Number.parseInt(value, 0);\n            setCurrentTime(time);\n            audioRef.currentTime = time;\n        });\n    }, []);\n\n    const durationTimeTag = useMemo(() => {\n        return duration ? \" / \" + convertTimeToTag(duration, 0, false) : false;\n    }, [duration]);\n\n    return (\n        <>\n            <time>\n                {convertTimeToTag(currentTime, 0, false)}\n                {durationTimeTag}\n            </time>\n\n            <Slider min={0} max={duration} step={1} value={currentTime} className=\"timeline\" onInput={onInput} />\n        </>\n    );\n};\n\nconst RateSlider: React.FC<{ lang: Language }> = ({ lang }) => {\n    const self = useRef(Symbol(RateSlider.name));\n\n    const [playbackRate, setPlaybackRate] = useState(audioRef.playbackRate);\n\n    useEffect(() => {\n        return audioStatePubSub.sub(self.current, (data: AudioState) => {\n            if (data.type === AudioActionType.rateChange) {\n                setPlaybackRate(data.payload);\n            }\n        });\n    }, []);\n\n    // playbackRate: [1/e, e]\n    // playbackRateSliderValue: [-1, 1]\n    // playbackRateSliderValue === ln(playbackRate)\n    // playbackRate === exp(playbackRateSliderValue)\n\n    const playbackRateSliderValue = useMemo(() => {\n        return Math.log(playbackRate);\n    }, [playbackRate]);\n\n    const onPlaybackRateChange = useCallback((ev: React.ChangeEvent<HTMLInputElement>) => {\n        const value = Math.exp(Number.parseFloat(ev.target.value));\n        setPlaybackRate(value);\n        audioRef.playbackRate = value;\n    }, []);\n\n    const onPlaybackRateReset = useCallback(() => {\n        audioRef.playbackRate = 1;\n    }, []);\n\n    return (\n        <>\n            <button className=\"ripple glow\" title={lang.audio.resetRate} onClick={onPlaybackRateReset}>\n                {\"X \"}\n                {playbackRate.toFixed(2)}\n            </button>\n\n            <Slider\n                className=\"playbackrate\"\n                min={-1}\n                max={1}\n                step=\"any\"\n                value={playbackRateSliderValue}\n                onInput={onPlaybackRateChange}\n            />\n        </>\n    );\n};\n\nexport const LrcAudio: React.FC<{ lang: Language }> = ({ lang }) => {\n    const self = useRef(Symbol(LrcAudio.name));\n\n    const [paused, setPaused] = useState(audioRef.paused);\n\n    const [duration, setDuration] = useState(audioRef.duration);\n\n    useEffect(() => {\n        return audioStatePubSub.sub(self.current, (data: AudioState) => {\n            switch (data.type) {\n                case AudioActionType.getDuration: {\n                    setDuration(data.payload);\n                    setPaused(audioRef.paused);\n                    break;\n                }\n                case AudioActionType.pause: {\n                    setPaused(data.payload);\n                    break;\n                }\n            }\n        });\n    }, []);\n\n    const onReplay5s = useCallback(() => {\n        audioRef.currentTime -= 5;\n    }, []);\n\n    const onForward5s = useCallback(() => {\n        audioRef.currentTime += 5;\n    }, []);\n\n    const onPlayPauseToggle = useCallback(() => {\n        audioRef.toggle();\n    }, []);\n\n    const onLoadAudioButtonClick = useCallback(() => {\n        loadAudioDialogRef.open();\n    }, []);\n\n    return (\n        <section className={\"lrc-audio\" + (paused ? \"\" : \" playing\")}>\n            <button\n                className=\"ripple glow loadaudio-button\"\n                title={lang.audio.loadAudio}\n                onClick={onLoadAudioButtonClick}\n            >\n                <LoadAudioSVG />\n            </button>\n            <button className=\"ripple glow\" title={lang.audio.replay5s} onClick={onReplay5s} disabled={!duration}>\n                <Replay5sSVG />\n            </button>\n            <button\n                className=\"ripple glow\"\n                title={paused ? lang.audio.play : lang.audio.pause}\n                disabled={!duration}\n                onClick={onPlayPauseToggle}\n            >\n                {paused ? <PlaySVG /> : <PauseSVG />}\n            </button>\n            <button className=\"ripple glow\" title={lang.audio.forward5s} onClick={onForward5s} disabled={!duration}>\n                <Forward5sSVG />\n            </button>\n\n            <TimeLine duration={duration} paused={paused} />\n            <RateSlider lang={lang} />\n        </section>\n    );\n};\n","import { AudioActionType, audioRef, audioStatePubSub, currentTimePubSub } from \"../utils/audiomodule.js\";\nimport { isKeyboardElement } from \"../utils/is-keyboard-element.js\";\nimport { appContext, ChangBits } from \"./app.context.js\";\nimport { LrcAudio } from \"./audio.js\";\nimport { LoadAudio, nec } from \"./loadaudio.js\";\nimport { toastPubSub } from \"./toast.js\";\n\nconst { useCallback, useContext, useEffect, useReducer, useRef } = React;\n\nconst accept = [\"audio/*\", \".ncm\", \".qmcflac\", \".qmc0\", \".qmc1\", \".qmc2\", \".qmc3\", \"qmcogg\"].join(\", \");\n\nexport const Footer: React.FC = () => {\n    const { prefState, lang } = useContext(appContext, ChangBits.lang | ChangBits.builtInAudio);\n\n    const [audioSrc, setAudioSrc] = useReducer(\n        (oldSrc: string, newSrc: string) => {\n            URL.revokeObjectURL(oldSrc);\n            return newSrc;\n        },\n        undefined,\n        () => {\n            let src = sessionStorage.getItem(SSK.audioSrc);\n            if (src === null && location.search && URLSearchParams) {\n                const searchParams = new URLSearchParams(location.search);\n                const url = searchParams.get(\"url\");\n                if (url !== null) {\n                    return url;\n                }\n                const text = searchParams.get(\"text\") || searchParams.get(\"title\") || \"\";\n                const result = /https?:\\/\\/\\S+/.exec(text);\n                src = result && nec(result[0]);\n            }\n            return src!;\n        },\n    );\n\n    useEffect(() => {\n        document.addEventListener(\"keydown\", (ev) => {\n            const { code, key, target } = ev;\n\n            const codeOrKey = code || key;\n\n            if (isKeyboardElement(target)) {\n                return;\n            }\n\n            const ac = audioRef.current!;\n\n            if (!ac.src) {\n                return;\n            }\n\n            if (ev.metaKey === true || ev.ctrlKey === true) {\n                if ([\"ArrowUp\", \"KeyJ\", \"Up\", \"J\", \"j\"].includes(codeOrKey)) {\n                    ev.preventDefault();\n\n                    const rate = ac.playbackRate;\n                    const newRate = Math.exp(Math.min(Math.log(rate) + 0.2, 1));\n\n                    ac.playbackRate = newRate;\n                } else if ([\"ArrowDown\", \"KeyK\", \"Down\", \"K\", \"k\"].includes(codeOrKey)) {\n                    ev.preventDefault();\n\n                    const rate = ac.playbackRate;\n                    const newRate = Math.exp(Math.max(Math.log(rate) - 0.2, -1));\n\n                    ac.playbackRate = newRate;\n                } else if (codeOrKey === \"Enter\") {\n                    ev.preventDefault();\n                    audioRef.toggle();\n                }\n            } else {\n                if ([\"ArrowLeft\", \"KeyA\", \"KeyH\", \"Left\", \"A\", \"a\", \"H\", \"h\"].includes(codeOrKey)) {\n                    ev.preventDefault();\n\n                    ac.currentTime -= 5;\n                } else if ([\"ArrowRight\", \"KeyD\", \"KeyL\", \"Right\", \"D\", \"d\", \"L\", \"l\"].includes(codeOrKey)) {\n                    ev.preventDefault();\n\n                    ac.currentTime += 5;\n                } else if (code === \"KeyR\" || key === \"R\" || key === \"r\") {\n                    ev.preventDefault();\n\n                    ac.playbackRate = 1;\n                }\n            }\n        });\n    }, []);\n\n    useEffect(() => {\n        document.documentElement.addEventListener(\"drop\", (ev) => {\n            const file = ev.dataTransfer!.files[0];\n            receiveFile(file, setAudioSrc);\n        });\n    }, []);\n\n    const onAudioInputChange = useCallback((ev: React.ChangeEvent<HTMLInputElement>) => {\n        const file = ev.target.files![0];\n        receiveFile(file, setAudioSrc);\n    }, []);\n\n    const rafId = useRef(0);\n\n    const onAudioLoadedMetadata = useCallback(() => {\n        cancelAnimationFrame(rafId.current);\n        audioStatePubSub.pub({\n            type: AudioActionType.getDuration,\n            payload: audioRef.duration,\n        });\n        toastPubSub.pub({\n            type: \"success\",\n            text: lang.notify.audioLoaded,\n        });\n    }, [lang]);\n\n    const syncCurrentTime = useCallback(() => {\n        currentTimePubSub.pub(audioRef.currentTime);\n        rafId.current = requestAnimationFrame(syncCurrentTime);\n    }, []);\n\n    const onAudioPlay = useCallback(() => {\n        rafId.current = requestAnimationFrame(syncCurrentTime);\n        audioStatePubSub.pub({\n            type: AudioActionType.pause,\n            payload: false,\n        });\n    }, [syncCurrentTime]);\n\n    const onAudioPause = useCallback(() => {\n        cancelAnimationFrame(rafId.current);\n        audioStatePubSub.pub({\n            type: AudioActionType.pause,\n            payload: true,\n        });\n    }, []);\n\n    const onAudioEnded = useCallback(() => {\n        cancelAnimationFrame(rafId.current);\n        audioStatePubSub.pub({\n            type: AudioActionType.pause,\n            payload: true,\n        });\n    }, []);\n\n    const onAudioTimeUpdate = useCallback(() => {\n        if (audioRef.paused) {\n            currentTimePubSub.pub(audioRef.currentTime);\n        }\n    }, []);\n\n    const onAudioRateChange = useCallback(() => {\n        audioStatePubSub.pub({\n            type: AudioActionType.rateChange,\n            payload: audioRef.playbackRate,\n        });\n    }, []);\n\n    const onAudioError = useCallback(\n        (ev: React.SyntheticEvent<HTMLAudioElement>) => {\n            const audio = ev.target as HTMLAudioElement;\n            const error = audio.error as MediaError;\n            const message = lang.audio.error[error.code] || error.message || lang.audio.error[0];\n            toastPubSub.pub({\n                type: \"warning\",\n                text: message,\n            });\n        },\n        [lang],\n    );\n\n    return (\n        <footer className=\"app-footer\">\n            <input id=\"audio-input\" type=\"file\" accept={accept} hidden={true} onChange={onAudioInputChange} />\n            <LoadAudio setAudioSrc={setAudioSrc} lang={lang} />\n            <audio\n                ref={audioRef}\n                src={audioSrc}\n                controls={prefState.builtInAudio}\n                hidden={!prefState.builtInAudio}\n                onLoadedMetadata={onAudioLoadedMetadata}\n                onPlay={onAudioPlay}\n                onPause={onAudioPause}\n                onEnded={onAudioEnded}\n                onTimeUpdate={onAudioTimeUpdate}\n                onRateChange={onAudioRateChange}\n                onError={onAudioError}\n            />\n            {prefState.builtInAudio || <LrcAudio lang={lang} />}\n        </footer>\n    );\n};\n\ntype TsetAudioSrc = (src: string) => void;\n\nconst receiveFile = (file: File, setAudioSrc: TsetAudioSrc): void => {\n    sessionStorage.removeItem(SSK.audioSrc);\n\n    if (file) {\n        if (file.type.startsWith(\"audio/\")) {\n            setAudioSrc(URL.createObjectURL(file));\n            return;\n        }\n        if (file.name.endsWith(\".ncm\")) {\n            const worker = new Worker(\"./ncmc-worker.js\");\n            worker.addEventListener(\n                \"message\",\n                (ev: IMessageEvent<IMessage>) => {\n                    if (ev.data.type === \"success\") {\n                        const dataArray = ev.data.payload;\n                        const musicFile = new Blob([dataArray], {\n                            type: detectMimeType(dataArray),\n                        });\n\n                        setAudioSrc(URL.createObjectURL(musicFile));\n                    }\n                    if (ev.data.type === \"error\") {\n                        toastPubSub.pub({\n                            type: \"warning\",\n                            text: ev.data.payload,\n                        });\n                    }\n                },\n                { once: true },\n            );\n\n            worker.addEventListener(\n                \"error\",\n                (ev) => {\n                    toastPubSub.pub({\n                        type: \"warning\",\n                        text: ev.message,\n                    });\n                    worker.terminate();\n                },\n                { once: true },\n            );\n\n            worker.postMessage(file);\n\n            return;\n        }\n        if (/\\.qmc(?:flac|0|1|2|3)$/.test(file.name)) {\n            const worker = new Worker(\"./qmc-worker.js\");\n            worker.addEventListener(\n                \"message\",\n                (ev: IMessageEvent<IMessage>) => {\n                    if (ev.data.type === \"success\") {\n                        const dataArray = ev.data.payload;\n                        const musicFile = new Blob([dataArray], {\n                            type: detectMimeType(dataArray),\n                        });\n\n                        setAudioSrc(URL.createObjectURL(musicFile));\n                    }\n                },\n                { once: true },\n            );\n\n            worker.postMessage(file);\n\n            return;\n        }\n    }\n};\n\nconst enum MimeType {\n    fLaC = 0x664c6143,\n    OggS = 0x4f676753,\n    RIFF = 0x52494646,\n    WAVE = 0x57415645,\n}\n\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nconst detectMimeType = (dataArray: Uint8Array) => {\n    const magicNumber = new DataView(dataArray.buffer).getUint32(0, false);\n    switch (magicNumber) {\n        case MimeType.fLaC:\n            return \"audio/flac\";\n\n        case MimeType.OggS:\n            return \"audio/ogg\";\n\n        case MimeType.RIFF:\n        case MimeType.WAVE:\n            return \"audio/wav\";\n\n        default:\n            return \"audio/mpeg\";\n    }\n};\n\n// side effect\ndocument.addEventListener(\"visibilitychange\", () => {\n    if (!audioRef.paused) {\n        audioRef.toggle();\n    }\n});\n","import { appContext, ChangBits } from \"./app.context.js\";\nimport { CloudSVG, EditorSVG, HomeSVG, PreferencesSVG, SynchronizerSVG } from \"./svg.js\";\n\nconst { useContext } = React;\n\nexport const Header: React.FC = () => {\n    const { lang } = useContext(appContext, ChangBits.lang);\n\n    return (\n        <header className=\"app-header\">\n            <a id={Path.homeID} className=\"app-title\" title={lang.header.home} href={Path.home}>\n                <span className=\"app-title-text\">{lang.app.name}</span>\n                <span className=\"app-title-svg\">\n                    <HomeSVG />\n                </span>\n            </a>\n            <nav className=\"app-nav\">\n                <a id={Path.editorID} className=\"app-tab\" title={lang.header.editor} href={Path.editor}>\n                    <EditorSVG />\n                </a>\n                <a\n                    id={Path.synchronizerID}\n                    className=\"app-tab\"\n                    title={lang.header.synchronizer}\n                    href={Path.synchronizer}\n                >\n                    <SynchronizerSVG />\n                </a>\n                <a id={Path.gistID} className=\"app-tab\" title={lang.header.gist} href={Path.gist}>\n                    <CloudSVG />\n                </a>\n                <a id={Path.preferencesID} className=\"app-tab\" title={lang.header.preferences} href={Path.preferences}>\n                    <PreferencesSVG />\n                </a>\n            </nav>\n        </header>\n    );\n};\n","import { App } from \"./components/app.js\";\n\nif (!(\"scrollBehavior\" in document.documentElement.style)) {\n    import(/* webpackMode: \"eager\" */ \"./polyfill/smooth-scroll.js\");\n}\n\nReactDOM.render(React.createElement(App), document.querySelector(\".app-container\"), () => {\n    document.querySelector(\".page-loading\")!.remove();\n\n    if ((navigator as any).standalone || window.matchMedia(\"(display-mode: standalone)\").matches) {\n        document.addEventListener(\"click\", (ev) => {\n            const href = (ev.target as HTMLAnchorElement).getAttribute(\"href\");\n\n            if (href?.startsWith(\"#\")) {\n                ev.preventDefault();\n                location.replace(href);\n            }\n        });\n    }\n\n    window.addEventListener(\"dragover\", (ev) => {\n        ev.preventDefault();\n        ev.dataTransfer!.dropEffect = \"copy\";\n    });\n    window.addEventListener(\"drop\", (ev) => {\n        ev.preventDefault();\n    });\n});\n","import { AppProvider } from \"./app.context.js\";\nimport { Content } from \"./content.js\";\nimport { Footer } from \"./footer.js\";\nimport { Header } from \"./header.js\";\nimport { Toast } from \"./toast.js\";\n\nexport const App: React.FC = () => {\n    return (\n        <AppProvider>\n            <Header />\n            <Content />\n            <Footer />\n            <Toast />\n        </AppProvider>\n    );\n};\n"],"sourceRoot":""}